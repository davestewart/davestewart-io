<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Prototype Deconstructed</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="Prototype Deconstructed is designed to visually and interactively deconstruct the internal code of the Prototype library. It breaks the physical JavaScript into visual blocks that you can easiliy navigate. Each block opens to reveal its internal code. Clickable hyperlinks allow you to follow program flow." />
	<link rel="image_src" href="http://www.keyframesandcode.com/resources/javascript/jQuery/deconstructed/assets/extra/facebook-thumbnail.gif" />
	<link href="../assets/css/prettify.css" rel="stylesheet" type="text/css" />
	<link href="../assets/css/formatting.css" rel="stylesheet" type="text/css" />
	<link href="../assets/css/themes/pastel.css" rel="stylesheet" type="text/css" id="css-theme" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
	<script type="text/javascript" src="../assets/js/prettify.js"></script>
	<script type="text/javascript" src="../assets/js/jquery.cookie.js"></script>
	<script type="text/javascript" src="../assets/js/core.js"></script>
	<style type="text/css">
	
	/*
		.desc {
			display:block;
			}
	*/
	
	</style>
</head>
<body onload="prettyPrint()">
<div id="content">
	<table width="100%" border="0" cellspacing="10" cellpadding="0" id="help">
		<tr>
			<td colspan="3"><div class="text" style="text-align:center; padding:30px; position:relative; width:inherit">
					<h1>Prototype Deconstructed</h1>
					<h3>Navigate the physical Prototype code to see what, where, and how the magic happens</h3>
					<a id="home" href="http://www.keyframesandcode.com/code/" title="Back to the main blog...">Home</a> </div></td>
		</tr>
		<tr>
			<td id="intro" class="text"><h2>Hello...</h2>
				<p><strong style="color:red">This page is designed to visually and interactively deconstruct the internal code of the Prototype library.</strong></p>
				<ul>
					<li>It breaks the physical JavaScript into visual blocks that you can easiliy navigate.</li>
					<li>Each block opens to reveal its internal code</li>
					<li>Clickable hyperlinks allow you to follow program flow</li>
				</ul>
				<p>The majority of the breakdown should be correct (with a few omissions for clarity) but feel free to leave <a href="http://www.keyframesandcode.com/code/development/javascript/jquery/jquery-deconstructed/">comments</a>, <a href="mailto:dev@davestewart.co.uk">email</a> or <a href="http://twitter.com/dave_stewart/">tweet</a> me any ideas or corrections. </p>
				<p>Cheers,<br />
					Dave</p></td>
			<td id="instructions" class="text"><h2>Instructions</h2>
				<p>To interact with <em>single</em> blocks, simply <strong>click</strong> on them:</p>
				<ul>
					<li>Clicking on <strong>Object</strong>, <strong>Function</strong> or <strong>Property</strong> headers will reveal their internal <em>code</em>. </li>
					<li>Additionally, clicking on <strong>Function</strong> headers will reveal a short <em>description</em>.</li>
				</ul>
				<p>You can also interact with <em>multiple</em> blocks:</p>
				<ul>
					<li>Clicking on <em>parent</em> block headers will preview any <em>nested</em> function descriptions.</li>
					<li><strong>CTRL+Click</strong> any block header to reveal <em>all</em> nested code.</li>
				</ul>
				<p>Additional <em>hyperlinks</em> are available throughout the document:</p>
				<ul>
					<li>Clicking on any <strong>Function</strong> <em>name</em> will take you to its official Prototype API <em>documentation</em> page.</li>
					<li><strong>Code bodies</strong> will display automatically-generated <em>hyperlinks</em> to other internal methods</li>
				</ul></td>
			<td id="key" class="text"><h2> Color Key</h2>
				<table width="100%" border="0" cellspacing="3" cellpadding="5">
					<tr class="section">
						<td class="section-key head">Section</td>
						<td>A logical API group</td>
					</tr>
					<tr>
						<td colspan="2"></td>
					</tr>
					<tr class="extend">
						<td class="section-key head">Extend</td>
						<td>A native class extended</td>
					</tr>
					<tr class="extend">
						<td class="section-key head">Class</td>
						<td>A new Class object</td>
					</tr>
					<tr class="object">
						<td class="section-key head">Object</td>
						<td>A top-level class-like Object</td>
					</tr>
					<tr>
						<td colspan="2"></td>
					</tr>
					<tr class="function">
						<td class="section-key head">Function</td>
						<td style="background:none">A function or method</td>
					</tr>
					<tr class="variables">
						<td class="section-key head">Properties</td>
						<td style="background:none">Variables or properties</td>
					</tr>
					<tr>
						<td colspan="2"></td>
					</tr>
					<tr class="code">
						<td class="section-key head">Code</td>
						<td style="background:none">Executing code</td>
					</tr>
				</table>
				<p>&nbsp;</p>
				<h2>Theme</h2>
				<p>
					<label for="colors">Colors: </label>
					<select name="colors" id="colors" style="width:100px;">
						<option value="pastel">Pastel</option>
						<option value="tawny">Tawny</option>
						<option value="bold">Bold</option>
						<option value="grey">Grey</option>
					</select>
				</p>
				<p>
					<label for="icons">Icons: </label>
					<select name="icons" id="icons" style="width:100px;">
						<option value="yes">Yes</option>
						<option value="no">No</option>
					</select>
				</p>
				<p>
					<label for="icons">Hover: </label>
					<select name="hover" id="hover" style="width:100px;">
						<option value="yes">Yes</option>
						<option value="no" selected="selected">No</option>
					</select>
				</p></td>
		</tr>
	</table>
	<div id="lib" class="icons">
		<div class="block code auto-open" style="margin-right:10px; margin-top:0px; background:none"> <a name="lib" id="lib"></a>
			<div class="head">
				<p class="title"><span class="type">Object : </span><strong>Prototype</strong></p>
			</div>
			<pre class="body prettyprint">
/*  Prototype JavaScript framework, version 1.6.1
 *  (c) 2005-2009 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
 *--------------------------------------------------------------------------*/</pre>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Core functionality</a></p>
				</div>
				<div class="block object"> <a name="Prototype" id="Prototype"></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/prototype" title="View the documentation for ">Prototype</a></p>
						<p class="desc">The Prototype namespace provides fundamental information   about the Prototype library you’re using, as well as a central   repository for default iterators or functions</p>
					</div>
					<pre class="body prettyprint">
var Prototype = {</pre>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>Version</strong></p>
						</div>
						<pre class="body prettyprint">
	Version: '1.6.1',</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>Browser</strong></p>
						</div>
						<pre class="body prettyprint">
	Browser: (function(){
		var ua = navigator.userAgent;
		var isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]';
		return {
			IE:             !!window.attachEvent &amp;&amp; !isOpera,
			Opera:          isOpera,
			WebKit:         ua.indexOf('AppleWebKit/') &gt; -1,
			Gecko:          ua.indexOf('Gecko') &gt; -1 &amp;&amp; ua.indexOf('KHTML') === -1,
			MobileSafari:   /Apple.*Mobile.*Safari/.test(ua)
		}
	})(),</pre>
					</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>BrowserFeatures</strong></p>
</div>
<pre class="body prettyprint">
	BrowserFeatures: {
		XPath: !!document.evaluate,
		SelectorsAPI: !!document.querySelector,
		ElementExtensions: (function() {
			var constructor = window.Element || window.HTMLElement;
			return !!(constructor &amp;&amp; constructor.prototype);
		})(),
		SpecificElementExtensions: (function() {
			if (typeof window.HTMLDivElement !== 'undefined')
				return true;

			var div = document.createElement('div');
			var form = document.createElement('form');
			var isSupported = false;

			if (div['__proto__'] &amp;&amp; (div['__proto__'] !== form['__proto__'])) {
				isSupported = true;
			}

			div = form = null;

			return isSupported;
		})()
	},</pre>
					</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>ScriptFragment</strong></p>
</div>
<pre class="body prettyprint">
	ScriptFragment: '&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\/script&gt;',</pre>
					</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>JSONFilter</strong></p>
</div>
<pre class="body prettyprint">
	JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,</pre>
					</div>
<div class="block function"> <a name="emptyFunction"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/prototype/emptyfunction" title="View the documentation for emptyFunction">emptyFunction</a></p>
<p class="desc">The emptyFunction does nothing… and returns nothing!</p>
</div>
<pre class="body prettyprint">
	emptyFunction: function() { },</pre>
					</div>
<div class="block function"> <a name="K"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/prototype/K" title="View the documentation for K">K</a></p>
<p class="desc">K is Prototype’s very own identity function, i.e. it returns its argument untouched.</p>
</div>
<pre class="body prettyprint">
	K: function(x) { return x }</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>name</strong></p>
					</div>
					<pre class="body prettyprint">
if (Prototype.Browser.MobileSafari)
	Prototype.BrowserFeatures.SpecificElementExtensions = false;</pre>
				</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>Abstract</strong></p>
</div>
<pre class="body prettyprint">
var Abstract = { };</pre>
				</div>
<div class="block function"> <a name="these"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/try-these" title="View the documentation for these">Try.these</a></p>
<p class="desc">Accepts an arbitrary number of functions and returns the result of the first one that doesn't throw an error</p>
</div>
<pre class="body prettyprint">
var Try = {
	these: function() {
		var returnValue;

		for (var i = 0, length = arguments.length; i &lt; length; i++) {
			var lambda = arguments[i];
			try {
				returnValue = lambda();
				break;
			} catch (e) { }
		}

		return returnValue;
	}};
</pre>
</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/class/" title="View the documentation for Class">Class</a></p>
						<p class="desc">Prototype’s object for class-based OOP</p>
					</div>
					<pre class="body prettyprint">
/* Based on Alex Arnell's inheritance implementation. */

var Class = (function() {</pre>
<div class="block function"> <a name="subclass"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>subclass</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function subclass() {};</pre>
					</div>
<div class="block function"> <a name="create"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/class/create" title="View the documentation for create">create</a></p>
<p class="desc">Creates a class</p>
</div>
<pre class="body prettyprint">
	function create() {
		var parent = null, properties = $A(arguments);
		if (Object.isFunction(properties[0]))
			parent = properties.shift();

		function klass() {
			this.initialize.apply(this, arguments);
		}

		Object.extend(klass, Class.Methods);
		klass.superclass = parent;
		klass.subclasses = [];

		if (parent) {
			subclass.prototype = parent.prototype;
			klass.prototype = new subclass;
			parent.subclasses.push(klass);
		}

		for (var i = 0; i &lt; properties.length; i++)
			klass.addMethods(properties[i]);

		if (!klass.prototype.initialize)
			klass.prototype.initialize = Prototype.emptyFunction;

		klass.prototype.constructor = klass;
		return klass;
	}</pre>
					</div>
<div class="block function"> <a name="Class.addMethods" id="Class.addMethods"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/class/addMethods" title="View the documentation for addMethods">addMethods</a></p>
<p class="desc">Adds methods to an existing class</p>
</div>
<pre class="body prettyprint">
	function addMethods(source) {
		var ancestor   = this.superclass &amp;&amp; this.superclass.prototype;
		var properties = Object.keys(source);

		if (!Object.keys({ toString: true }).length) {
			if (source.toString != Object.prototype.toString)
				properties.push(&quot;toString&quot;);
			if (source.valueOf != Object.prototype.valueOf)
				properties.push(&quot;valueOf&quot;);
		}

		for (var i = 0, length = properties.length; i &lt; length; i++) {
			var property = properties[i], value = source[property];
			if (ancestor &amp;&amp; Object.isFunction(value) &amp;&amp;
					value.argumentNames().first() == &quot;$super&quot;) {
				var method = value;
				value = (function(m) {
					return function() { return ancestor[m].apply(this, arguments); };
				})(property).wrap(method);

				value.valueOf = method.valueOf.bind(method);
				value.toString = method.toString.bind(method);
			}
			this.prototype[property] = value;
		}

		return this;
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		create: create,
		Methods: {
			addMethods: addMethods
		}</pre>
					</div>
					<pre class="body prettyprint">
	};
})();</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Extend native classes</a></p>
				</div>
				<div class="block extend"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/object" title="View the documentation for Object">Object</a></p>
						<p class="desc">Object is used by Prototype as a namespace; that is, it just keeps a few new methods together, which are intended for namespaced access</p>
					</div>
					<pre class="body">
(function() {</pre>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span>_toString</p>
							<p class="desc">Description</p>
						</div>
						<pre class="body prettyprint">
	var _toString = Object.prototype.toString;</pre>
					</div>
<div class="block function"> <a name="extend"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/extend" title="View the documentation for extend">extend</a></p>
<p class="desc">Copies all properties from the source to the destination object. Used by Prototype to simulate inheritance (rather statically) by copying to prototypes</p>
</div>
<pre class="body prettyprint">
	function extend(destination, source) {
		for (var property in source)
			destination[property] = source[property];
		return destination;
	}</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc">Returns the debug-oriented string representation of the object</p>
</div>
<pre class="body prettyprint">
	function inspect(object) {
		try {
			if (isUndefined(object)) return 'undefined';
			if (object === null) return 'null';
			return object.inspect ? object.inspect() : String(object);
		} catch (e) {
			if (e instanceof RangeError) return '...';
			throw e;
		}
	}</pre>
					</div>
<div class="block function"> <a name="toJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/toJSON" title="View the documentation for toJSON">toJSON</a></p>
<p class="desc">Returns a JSON string</p>
</div>
<pre class="body prettyprint">
	function toJSON(object) {
		var type = typeof object;
		switch (type) {
			case 'undefined':
			case 'function':
			case 'unknown': return;
			case 'boolean': return object.toString();
		}

		if (object === null) return 'null';
		if (object.toJSON) return object.toJSON();
		if (isElement(object)) return;

		var results = [];
		for (var property in object) {
			var value = toJSON(object[property]);
			if (!isUndefined(value))
				results.push(property.toJSON() + ': ' + value);
		}

		return '{' + results.join(', ') + '}';
	}</pre>
					</div>
<div class="block function"> <a name="toQueryString"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/toQueryString" title="View the documentation for toQueryString">toQueryString</a></p>
<p class="desc">Turns an object into its URL-encoded query string representation</p>
</div>
<pre class="body prettyprint">
	function toQueryString(object) {
		return $H(object).toQueryString();
	}</pre>
					</div>
<div class="block function"> <a name="toHTML"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/toHTML" title="View the documentation for toHTML">toHTML</a></p>
<p class="desc">Returns the return value of obj’s toHTML method if it exists, else runs obj through String.interpret</p>
</div>
<pre class="body prettyprint">
	function toHTML(object) {
		return object &amp;&amp; object.toHTML ? object.toHTML() : String.interpret(object);
	}</pre>
					</div>
<div class="block function"> <a name="keys"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/keys" title="View the documentation for keys">keys</a></p>
<p class="desc">reats any object as a Hash and fetches the list of its property names</p>
</div>
<pre class="body prettyprint">
	function keys(object) {
		var results = [];
		for (var property in object)
			results.push(property);
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="values"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/values" title="View the documentation for values">values</a></p>
<p class="desc">Treats any object as a Hash and fetches the list of its property values</p>
</div>
<pre class="body prettyprint">
	function values(object) {
		var results = [];
		for (var property in object)
			results.push(object[property]);
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="clone"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/clone" title="View the documentation for clone">clone</a></p>
<p class="desc">Clones the passed object using shallow copy (copies all the original’s properties to the result)</p>
</div>
<pre class="body prettyprint">
	function clone(object) {
		return extend({ }, object);
	}</pre>
					</div>
<div class="block function"> <a name="isElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isElement" title="View the documentation for isElement">isElement</a></p>
<p class="desc">Returns true if obj is a DOM node of type 1, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isElement(object) {
		return !!(object &amp;&amp; object.nodeType == 1);
	}</pre>
					</div>
<div class="block function"> <a name="isArray"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isArray" title="View the documentation for isArray">isArray</a></p>
<p class="desc">Returns true if obj is an array, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isArray(object) {
		return _toString.call(object) == &quot;[object Array]&quot;;
	}</pre>
					</div>
<div class="block function"> <a name="isHash"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isHash" title="View the documentation for isHash">isHash</a></p>
<p class="desc">Returns true if obj is an instance of the Hash class, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isHash(object) {
		return object instanceof Hash;
	}</pre>
					</div>
<div class="block function"> <a name="isFunction"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isFunction" title="View the documentation for isFunction">isFunction</a></p>
<p class="desc">Returns true if obj is of type function, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isFunction(object) {
		return typeof object === &quot;function&quot;;
	}</pre>
					</div>
<div class="block function"> <a name="isString"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isString" title="View the documentation for isString">isString</a></p>
<p class="desc">Returns true if obj is of type string, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isString(object) {
		return _toString.call(object) == &quot;[object String]&quot;;
	}</pre>
					</div>
<div class="block function"> <a name="isNumber"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isNumber" title="View the documentation for isNumber">isNumber</a></p>
<p class="desc">Returns true if obj is of type number, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isNumber(object) {
		return _toString.call(object) == &quot;[object Number]&quot;;
	}</pre>
					</div>
<div class="block function"> <a name="isUndefined"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/object/isUndefined" title="View the documentation for isUndefined">isUndefined</a></p>
<p class="desc">Returns true if obj is of type undefined, false otherwise</p>
</div>
<pre class="body prettyprint">
	function isUndefined(object) {
		return typeof object === &quot;undefined&quot;;
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>Assign methods to  Object</strong></p>
						</div>
						<pre class="body prettyprint">
	extend(Object, {
		extend:        extend,
		inspect:       inspect,
		toJSON:        toJSON,
		toQueryString: toQueryString,
		toHTML:        toHTML,
		keys:          keys,
		values:        values,
		clone:         clone,
		isElement:     isElement,
		isArray:       isArray,
		isHash:        isHash,
		isFunction:    isFunction,
		isString:      isString,
		isNumber:      isNumber,
		isUndefined:   isUndefined
	});</pre>
					</div>
					<pre class="body">
})();</pre>
				</div>
<div class="block extend"> <a name="Function"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/function" title="View the documentation for Function">Function</a></p>
<p class="desc">Prototype's extended Function object</p>
</div>
<pre class="body">
Object.extend(Function.prototype, (function() {</pre>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>slice</strong></p>
						</div>
						<pre class="body prettyprint">
	var slice = Array.prototype.slice;</pre>
					</div>
<div class="block function"> <a name="update"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>update</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function update(array, args) {
		var arrayLength = array.length, length = args.length;
		while (length--) array[arrayLength + length] = args[length];
		return array;
	}</pre>
					</div>
<div class="block function"> <a name="merge"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>merge</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function merge(array, args) {
		array = slice.call(array, 0);
		return update(array, args);
	}</pre>
					</div>
<div class="block function"> <a name="argumentNames"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/argumentNames" title="View the documentation for argumentNames">argumentNames</a></p>
<p class="desc">Reads the argument names as defined in the function definition and returns the values as an array of strings, or an empty array if the function is defined without parameters</p>
</div>
<pre class="body prettyprint">
	function argumentNames() {
		var names = this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1]
			.replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, '')
			.replace(/\s+/g, '').split(',');
		return names.length == 1 &amp;&amp; !names[0] ? [] : names;
	}</pre>
					</div>
<div class="block function"> <a name="bind"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/bind" title="View the documentation for bind">bind</a></p>
<p class="desc">Wraps the function in another, locking its execution scope to an object specified by thisObj</p>
</div>
<pre class="body prettyprint">
	function bind(context) {
		if (arguments.length &lt; 2 &amp;&amp; Object.isUndefined(arguments[0])) return this;
		var __method = this, args = slice.call(arguments, 1);
		return function() {
			var a = merge(args, arguments);
			return __method.apply(context, a);
		}
	}</pre>
					</div>
<div class="block function"> <a name="bindAsEventListener"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/bindAsEventListener" title="View the documentation for bindAsEventListener">bindAsEventListener</a></p>
<p class="desc">An event-specific variant of bind which makes sure the function will recieve the current event object as the first argument when executing</p>
</div>
<pre class="body prettyprint">
	function bindAsEventListener(context) {
		var __method = this, args = slice.call(arguments, 1);
		return function(event) {
			var a = update([event || window.event], args);
			return __method.apply(context, a);
		}
	}</pre>
					</div>
<div class="block function"> <a name="curry"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/curry" title="View the documentation for curry">curry</a></p>
<p class="desc">artially applies the function, returning a function with one or more arguments already “filled in.”</p>
</div>
<pre class="body prettyprint">
	function curry() {
		if (!arguments.length) return this;
		var __method = this, args = slice.call(arguments, 0);
		return function() {
			var a = merge(args, arguments);
			return __method.apply(this, a);
		}
	}</pre>
					</div>
<div class="block function"> <a name="delay"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/delay" title="View the documentation for delay">delay</a></p>
<p class="desc">chedules the function to run after the specified amount of time, passing any arguments given</p>
</div>
<pre class="body prettyprint">
	function delay(timeout) {
		var __method = this, args = slice.call(arguments, 1);
		timeout = timeout * 1000
		return window.setTimeout(function() {
			return __method.apply(__method, args);
		}, timeout);
	}</pre>
					</div>
<div class="block function"> <a name="defer"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/defer" title="View the documentation for defer">defer</a></p>
<p class="desc">Schedules the function to run as soon as the interpreter is idle</p>
</div>
<pre class="body prettyprint">
	function defer() {
		var args = update([0.01], arguments);
		return this.delay.apply(this, args);
	}</pre>
					</div>
<div class="block function"> <a name="wrap"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/wrap" title="View the documentation for wrap">wrap</a></p>
<p class="desc">Returns a function “wrapped” around the original function</p>
</div>
<pre class="body prettyprint">
	function wrap(wrapper) {
		var __method = this;
		return function() {
			var a = update([__method.bind(this)], arguments);
			return wrapper.apply(this, a);
		}
	}</pre>
					</div>
<div class="block function"> <a name="methodize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/function/methodize" title="View the documentation for methodize">methodize</a></p>
<p class="desc">Takes a function and wraps it in another function that, at call time, pushes this to the original function as the first argument</p>
</div>
<pre class="body prettyprint">
	function methodize() {
		if (this._methodized) return this._methodized;
		var __method = this;
		return this._methodized = function() {
			var a = update([this], arguments);
			return __method.apply(null, a);
		};
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		argumentNames:       argumentNames,
		bind:                bind,
		bindAsEventListener: bindAsEventListener,
		curry:               curry,
		delay:               delay,
		defer:               defer,
		wrap:                wrap,
		methodize:           methodize
	}</pre>
					</div>
					<pre class="body">
})());</pre>
				</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>Date.prototype.toJSON</strong></p>
</div>
<pre class="body prettyprint">
Date.prototype.toJSON = function() {
	return '&quot;' + this.getUTCFullYear() + '-' +
		(this.getUTCMonth() + 1).toPaddedString(2) + '-' +
		this.getUTCDate().toPaddedString(2) + 'T' +
		this.getUTCHours().toPaddedString(2) + ':' +
		this.getUTCMinutes().toPaddedString(2) + ':' +
		this.getUTCSeconds().toPaddedString(2) + 'Z&quot;';
};</pre>
				</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>RegExp.prototype.match</strong></p>
</div>
<pre class="body prettyprint">
RegExp.prototype.match = RegExp.prototype.test;</pre>
				</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>RegExp.escape</strong></p>
</div>
<pre class="body prettyprint">
RegExp.escape = function(str) {
	return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
};</pre>
				</div><div class="block extend class"> <a name="PeriodicalExecuter"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/periodicalExecuter" title="View the documentation for PeriodicalExecuter">PeriodicalExecuter</a></p>
<p class="desc">This is a simple facility for periodical execution of a function. This essentially encapsulates the native clearInterval/setInterval mechanism found in native Window objects</p>
</div>
<pre class="body">

var PeriodicalExecuter = Class.create({</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>
</div>
<pre class="body prettyprint">
	initialize: function(callback, frequency) {
		this.callback = callback;
		this.frequency = frequency;
		this.currentlyExecuting = false;

		this.registerCallback();
	},</pre>
					</div>
<div class="block function"> <a name="registerCallback"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>registerCallback</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	registerCallback: function() {
		this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
	},</pre>
					</div>
<div class="block function"> <a name="execute"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>execute</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	execute: function() {
		this.callback(this);
	},</pre>
					</div>
<div class="block function"> <a name="stop"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/periodicalExecuter/stop" title="View the documentation for stop">stop</a></p>
<p class="desc">Stops the periodical executer (there will be no further triggers)</p>
</div>
<pre class="body prettyprint">
	stop: function() {
		if (!this.timer) return;
		clearInterval(this.timer);
		this.timer = null;
	},</pre>
					</div>
<div class="block function"> <a name="onTimerEvent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>onTimerEvent</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	onTimerEvent: function() {
		if (!this.currentlyExecuting) {
			try {
				this.currentlyExecuting = true;
				this.execute();
				this.currentlyExecuting = false;
			} catch(e) {
				this.currentlyExecuting = false;
				throw e;
			}
		}
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div>
<div class="block extend"> <a name="String"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/String" title="View the documentation for String">String</a></p>
<p class="desc">Prototype enhances the String object with a series of useful methods for String.prototype ranging from the trivial to the complex</p>
</div>
<pre class="body">
Object.extend(String, {
	interpret: function(value) {
		return value == null ? '' : String(value);
	},
	specialChar: {
		'\b': '\\b',
		'\t': '\\t',
		'\n': '\\n',
		'\f': '\\f',
		'\r': '\\r',
		'\\': '\\\\'
	}
});</pre>
				</div>
<div class="block extend"> <a name="String"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/String" title="View the documentation for String">String.prototype</a></p>
<p class="desc">Prototype enhances the String object with a series of useful methods for String.prototype ranging from the trivial to the complex</p>
</div>
<pre class="body">
Object.extend(String.prototype, (function() {</pre>
<div class="block function"> <a name="prepareReplacement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>prepareReplacement</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function prepareReplacement(replacement) {
		if (Object.isFunction(replacement)) return replacement;
		var template = new Template(replacement);
		return function(match) { return template.evaluate(match) };
	}</pre>
					</div>
<div class="block function"> <a name="gsub"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/gsub" title="View the documentation for gsub">gsub</a></p>
<p class="desc">Returns the string with every occurence of a given pattern replaced by either a regular string, the returned value of a function or a Template string</p>
</div>
<pre class="body prettyprint">
	function gsub(pattern, replacement) {
		var result = '', source = this, match;
		replacement = prepareReplacement(replacement);

		if (Object.isString(pattern))
			pattern = RegExp.escape(pattern);

		if (!(pattern.length || pattern.source)) {
			replacement = replacement('');
			return replacement + source.split('').join(replacement) + replacement;
		}

		while (source.length &gt; 0) {
			if (match = source.match(pattern)) {
				result += source.slice(0, match.index);
				result += String.interpret(replacement(match));
				source  = source.slice(match.index + match[0].length);
			} else {
				result += source, source = '';
			}
		}
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="sub"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/sub" title="View the documentation for sub">sub</a></p>
<p class="desc">Returns a string with the first count occurrences of pattern replaced by either a regular string, the returned value of a function or a Template string</p>
</div>
<pre class="body prettyprint">
	function sub(pattern, replacement, count) {
		replacement = prepareReplacement(replacement);
		count = Object.isUndefined(count) ? 1 : count;

		return this.gsub(pattern, function(match) {
			if (--count &lt; 0) return match[0];
			return replacement(match);
		});
	}</pre>
					</div>
<div class="block function"> <a name="scan"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/scan" title="View the documentation for scan">scan</a></p>
<p class="desc">Allows iterating over every occurrence of the given pattern (which can be a string or a regular expression). Returns the original string</p>
</div>
<pre class="body prettyprint">
	function scan(pattern, iterator) {
		this.gsub(pattern, iterator);
		return String(this);
	}</pre>
					</div>
<div class="block function"> <a name="truncate"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/truncate" title="View the documentation for truncate">truncate</a></p>
<p class="desc">Truncates a string to the given length and appends a suffix to it (indicating that it is only an excerpt)</p>
</div>
<pre class="body prettyprint">
	function truncate(length, truncation) {
		length = length || 30;
		truncation = Object.isUndefined(truncation) ? '...' : truncation;
		return this.length &gt; length ?
			this.slice(0, length - truncation.length) + truncation : String(this);
	}</pre>
					</div>
<div class="block function"> <a name="strip"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/strip" title="View the documentation for strip">strip</a></p>
<p class="desc">Strips all leading and trailing whitespace from a string</p>
</div>
<pre class="body prettyprint">
	function strip() {
		return this.replace(/^\s+/, '').replace(/\s+$/, '');
	}</pre>
					</div>
<div class="block function"> <a name="stripTags"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/stripTags" title="View the documentation for stripTags">stripTags</a></p>
<p class="desc">Strips a string of any HTML tag</p>
</div>
<pre class="body prettyprint">
	function stripTags() {
		return this.replace(/&lt;\w+(\s+(&quot;[^&quot;]*&quot;|'[^']*'|[^&gt;])+)?&gt;|&lt;\/\w+&gt;/gi, '');
	}</pre>
					</div>
<div class="block function"> <a name="stripScripts"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/stripScripts" title="View the documentation for stripScripts">stripScripts</a></p>
<p class="desc">Strips a string of anything that looks like an HTML script block</p>
</div>
<pre class="body prettyprint">
	function stripScripts() {
		return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
	}</pre>
					</div>
<div class="block function"> <a name="extractScripts"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/extractScripts" title="View the documentation for extractScripts">extractScripts</a></p>
<p class="desc">Exctracts the content of any script block present in the string and returns them as an array of strings</p>
</div>
<pre class="body prettyprint">
	function extractScripts() {
		var matchAll = new RegExp(Prototype.ScriptFragment, 'img');
		var matchOne = new RegExp(Prototype.ScriptFragment, 'im');
		return (this.match(matchAll) || []).map(function(scriptTag) {
			return (scriptTag.match(matchOne) || ['', ''])[1];
		});
	}</pre>
					</div>
<div class="block function"> <a name="evalScripts"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/evalScripts" title="View the documentation for evalScripts">evalScripts</a></p>
<p class="desc">Evaluates the content of any script block present in the string. Returns an array containing the value returned by each script</p>
</div>
<pre class="body prettyprint">
	function evalScripts() {
		return this.extractScripts().map(function(script) { return eval(script) });
	}</pre>
					</div>
<div class="block function"> <a name="escapeHTML"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/escapeHTML" title="View the documentation for escapeHTML">escapeHTML</a></p>
<p class="desc">Converts HTML special characters to their entity equivalents</p>
</div>
<pre class="body prettyprint">
	function escapeHTML() {
		return this.replace(/&amp;/g,'&amp;').replace(/&lt;/g,'&lt;').replace(/&gt;/g,'&gt;');
	}</pre>
					</div>
<div class="block function"> <a name="unescapeHTML"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/unescapeHTML" title="View the documentation for unescapeHTML">unescapeHTML</a></p>
<p class="desc">Strips tags and converts the entity forms of special HTML characters to their normal form</p>
</div>
<pre class="body prettyprint">
	function unescapeHTML() {
		return this.stripTags().replace(/&lt;/g,'&lt;').replace(/&gt;/g,'&gt;').replace(/&amp;/g,'&amp;');
	}</pre>
					</div>
<div class="block function"> <a name="toQueryParams"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/toQueryParams" title="View the documentation for toQueryParams">toQueryParams</a></p>
<p class="desc">Parses a URI-like query string and returns an object composed of parameter/value pairs</p>
</div>
<pre class="body prettyprint">
	function toQueryParams(separator) {
		var match = this.strip().match(/([^?#]*)(#.*)?$/);
		if (!match) return { };

		return match[1].split(separator || '&amp;').inject({ }, function(hash, pair) {
			if ((pair = pair.split('='))[0]) {
				var key = decodeURIComponent(pair.shift());
				var value = pair.length &gt; 1 ? pair.join('=') : pair[0];
				if (value != undefined) value = decodeURIComponent(value);

				if (key in hash) {
					if (!Object.isArray(hash[key])) hash[key] = [hash[key]];
					hash[key].push(value);
				}
				else hash[key] = value;
			}
			return hash;
		});
	}</pre>
					</div>
<div class="block function"> <a name="toArray"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/toArray" title="View the documentation for toArray">toArray</a></p>
<p class="desc">Splits the string character-by-character and returns an array with the result</p>
</div>
<pre class="body prettyprint">
	function toArray() {
		return this.split('');
	}</pre>
					</div>
<div class="block function"> <a name="succ"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/succ" title="View the documentation for succ">succ</a></p>
<p class="desc">Used internally by ObjectRange. Converts the last character of the string to the following character in the Unicode alphabet</p>
</div>
<pre class="body prettyprint">
	function succ() {
		return this.slice(0, this.length - 1) +
			String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
	}</pre>
					</div>
<div class="block function"> <a name="times"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/times" title="View the documentation for times">times</a></p>
<p class="desc">Concatenates the string count times</p>
</div>
<pre class="body prettyprint">
	function times(count) {
		return count &lt; 1 ? '' : new Array(count + 1).join(this);
	}</pre>
					</div>
<div class="block function"> <a name="camelize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/camelize" title="View the documentation for camelize">camelize</a></p>
<p class="desc">Converts a string separated by dashes into a camelCase equivalent. For instance, 'foo-bar' would be converted to 'fooBar'</p>
</div>
<pre class="body prettyprint">
	function camelize() {
		var parts = this.split('-'), len = parts.length;
		if (len == 1) return parts[0];

		var camelized = this.charAt(0) == '-'
			? parts[0].charAt(0).toUpperCase() + parts[0].substring(1)
			: parts[0];

		for (var i = 1; i &lt; len; i++)
			camelized += parts[i].charAt(0).toUpperCase() + parts[i].substring(1);

		return camelized;
	}</pre>
					</div>
<div class="block function"> <a name="capitalize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/capitalize" title="View the documentation for capitalize">capitalize</a></p>
<p class="desc">Capitalizes the first letter of a string and downcases all the others</p>
</div>
<pre class="body prettyprint">
	function capitalize() {
		return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
	}</pre>
					</div>
<div class="block function"> <a name="underscore"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/underscore" title="View the documentation for underscore">underscore</a></p>
<p class="desc">Converts a camelized string into a series of words separated by an underscore (&quot;_&quot;)</p>
</div>
<pre class="body prettyprint">
	function underscore() {
		return this.replace(/::/g, '/')
 							.replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')
 							.replace(/([a-z\d])([A-Z])/g, '$1_$2')
 							.replace(/-/g, '_')
 							.toLowerCase();
	}</pre>
					</div>
<div class="block function"> <a name="dasherize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/dasherize" title="View the documentation for dasherize">dasherize</a></p>
<p class="desc">Replaces every instance of the underscore character (&quot;_&quot;) by a dash (&quot;-&quot;)</p>
</div>
<pre class="body prettyprint">
	function dasherize() {
		return this.replace(/_/g, '-');
	}</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc">Returns a debug-oriented version of the string (i.e. wrapped in single or double quotes, with backslashes and quotes escaped)</p>
</div>
<pre class="body prettyprint">
	function inspect(useDoubleQuotes) {
		var escapedString = this.replace(/[\x00-\x1f\\]/g, function(character) {
			if (character in String.specialChar) {
				return String.specialChar[character];
			}
			return '\\u00' + character.charCodeAt().toPaddedString(2, 16);
		});
		if (useDoubleQuotes) return '&quot;' + escapedString.replace(/&quot;/g, '\\&quot;') + '&quot;';
		return &quot;'&quot; + escapedString.replace(/'/g, '\\\'') + &quot;'&quot;;
	}</pre>
					</div>
<div class="block function"> <a name="toJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/toJSON" title="View the documentation for toJSON">toJSON</a></p>
<p class="desc">Returns a JSON string</p>
</div>
<pre class="body prettyprint">
	function toJSON() {
		return this.inspect(true);
	}</pre>
					</div>
<div class="block function"> <a name="unfilterJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/unfilterJSON" title="View the documentation for unfilterJSON">unfilterJSON</a></p>
<p class="desc">Strips comment delimiters around Ajax JSON or JavaScript responses. This security method is called internally</p>
</div>
<pre class="body prettyprint">
	function unfilterJSON(filter) {
		return this.replace(filter || Prototype.JSONFilter, '$1');
	}</pre>
					</div>
<div class="block function"> <a name="isJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/isJSON" title="View the documentation for isJSON">isJSON</a></p>
<p class="desc">Check if the string is valid JSON by the use of regular expressions. This security method is called internally</p>
</div>
<pre class="body prettyprint">
	function isJSON() {
		var str = this;
		if (str.blank()) return false;
		str = this.replace(/\\./g, '@').replace(/&quot;[^&quot;\\\n\r]*&quot;/g, '');
		return (/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str);
	}</pre>
					</div>
<div class="block function"> <a name="evalJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/evalJSON" title="View the documentation for evalJSON">evalJSON</a></p>
<p class="desc">Evaluates the JSON in the string and returns the resulting object. If the optional sanitize parameter is set to true, the string is checked for possible malicious attempts and eval is not called if one is detected</p>
</div>
<pre class="body prettyprint">
	function evalJSON(sanitize) {
		var json = this.unfilterJSON();
		try {
			if (!sanitize || json.isJSON()) return eval('(' + json + ')');
		} catch (e) { }
		throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
	}</pre>
					</div>
<div class="block function"> <a name="include"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/include" title="View the documentation for include">include</a></p>
<p class="desc">Check if the string contains a substring</p>
</div>
<pre class="body prettyprint">
	function include(pattern) {
		return this.indexOf(pattern) &gt; -1;
	}</pre>
					</div>
<div class="block function"> <a name="startsWith"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/startsWith" title="View the documentation for startsWith">startsWith</a></p>
<p class="desc">Checks if the string starts with substring</p>
</div>
<pre class="body prettyprint">
	function startsWith(pattern) {
		return this.indexOf(pattern) === 0;
	}</pre>
					</div>
<div class="block function"> <a name="endsWith"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/endsWith" title="View the documentation for endsWith">endsWith</a></p>
<p class="desc">Checks if the string ends with substring</p>
</div>
<pre class="body prettyprint">
	function endsWith(pattern) {
		var d = this.length - pattern.length;
		return d &gt;= 0 &amp;&amp; this.lastIndexOf(pattern) === d;
	}</pre>
					</div>
<div class="block function"> <a name="empty"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/empty" title="View the documentation for empty">empty</a></p>
<p class="desc">Checks if the string is empty</p>
</div>
<pre class="body prettyprint">
	function empty() {
		return this == '';
	}</pre>
					</div>
<div class="block function"> <a name="blank"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/blank" title="View the documentation for blank">blank</a></p>
<p class="desc">Check if the string is 'blank', meaning either empty or containing only whitespace</p>
</div>
<pre class="body prettyprint">
	function blank() {
		return /^\s*$/.test(this);
	}</pre>
					</div>
<div class="block function"> <a name="interpolate"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/string/interpolate" title="View the documentation for interpolate">interpolate</a></p>
<p class="desc">Treats the string as a Template and fills it with object’s properties</p>
</div>
<pre class="body prettyprint">
	function interpolate(object, pattern) {
		return new Template(this, pattern).evaluate(object);
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		gsub:           gsub,
		sub:            sub,
		scan:           scan,
		truncate:       truncate,
		strip:          String.prototype.trim ? String.prototype.trim : strip,
		stripTags:      stripTags,
		stripScripts:   stripScripts,
		extractScripts: extractScripts,
		evalScripts:    evalScripts,
		escapeHTML:     escapeHTML,
		unescapeHTML:   unescapeHTML,
		toQueryParams:  toQueryParams,
		parseQuery:     toQueryParams,
		toArray:        toArray,
		succ:           succ,
		times:          times,
		camelize:       camelize,
		capitalize:     capitalize,
		underscore:     underscore,
		dasherize:      dasherize,
		inspect:        inspect,
		toJSON:         toJSON,
		unfilterJSON:   unfilterJSON,
		isJSON:         isJSON,
		evalJSON:       evalJSON,
		include:        include,
		startsWith:     startsWith,
		endsWith:       endsWith,
		empty:          empty,
		blank:          blank,
		interpolate:    interpolate
	};</pre>
					</div>
					<pre class="body">
})());</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Miscelaneous classes</a></p>
				</div><div class="block extend class"> <a name="Template"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/template" title="View the documentation for Template">Template</a></p>
<p class="desc">The Template class is used to produce formatted output of text strings</p>
</div>
<pre class="body">

var Template = Class.create({</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>
</div>
<pre class="body prettyprint">
	initialize: function(template, pattern) {
		this.template = template.toString();
		this.pattern = pattern || Template.Pattern;
	},</pre>
					</div>
<div class="block function"> <a name="evaluate"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/template/evaluate" title="View the documentation for evaluate">evaluate</a></p>
<p class="desc">Applies the template to the given object’s data, producing a formatted string with symbols replaced by corresponding object’s properties</p>
</div>
<pre class="body prettyprint">
	evaluate: function(object) {
		if (object &amp;&amp; Object.isFunction(object.toTemplateReplacements))
			object = object.toTemplateReplacements();

		return this.template.gsub(this.pattern, function(match) {
			if (object == null) return (match[1] + '');

			var before = match[1] || '';
			if (before == '\\') return match[2];

			var ctx = object, expr = match[3];
			var pattern = /^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;
			match = pattern.exec(expr);
			if (match == null) return before;

			while (match != null) {
				var comp = match[1].startsWith('[') ? match[2].replace(/\\\\]/g, ']') : match[1];
				ctx = ctx[comp];
				if (null == ctx || '' == match[3]) break;
				expr = expr.substring('[' == match[3] ? match[1].length : match[0].length);
				match = pattern.exec(expr);
			}

			return before + String.interpret(ctx);
		});
	}</pre>
					</div>
					<pre class="body">
});</pre>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>Pattern</strong></p>
						</div>
						<pre class="body prettyprint">
	Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;</pre>
					</div>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">$break</a></p>
						<p class="desc">Object</p>
					</div>
					<pre class="body prettyprint">
var $break = { };</pre>
				</div>
				<div class="block object"> <a name="Enumerable"></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/enumerable">Enumberable</a></p>
					</div>
					<pre class="body prettyprint">
var Enumerable = (function() {</pre>
<div class="block function"> <a name="each"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/each" title="View the documentation for each">each</a></p>
<p class="desc">The cornerstone of Enumerable </p>
</div>
<pre class="body prettyprint">
	function each(iterator, context) {
		var index = 0;
		try {
			this._each(function(value) {
				iterator.call(context, value, index++);
			});
		} catch (e) {
			if (e != $break) throw e;
		}
		return this;
	}</pre>
					</div>
<div class="block function"> <a name="eachSlice"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/eachSlice" title="View the documentation for eachSlice">eachSlice</a></p>
<p class="desc">Groups items in chunks based on a given size, with last chunk being possibly smaller </p>
</div>
<pre class="body prettyprint">
	function eachSlice(number, iterator, context) {
		var index = -number, slices = [], array = this.toArray();
		if (number &lt; 1) return array;
		while ((index += number) &lt; array.length)
			slices.push(array.slice(index, index+number));
		return slices.collect(iterator, context);
	}</pre>
					</div>
<div class="block function"> <a name="all"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/all" title="View the documentation for all">all</a></p>
<p class="desc">Determines whether all the elements are boolean-equivalent to true, either directly or through computation by the provided iterator </p>
</div>
<pre class="body prettyprint">
	function all(iterator, context) {
		iterator = iterator || Prototype.K;
		var result = true;
		this.each(function(value, index) {
			result = result &amp;&amp; !!iterator.call(context, value, index);
			if (!result) throw $break;
		});
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="any"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/any" title="View the documentation for any">any</a></p>
<p class="desc">Determines whether at least one element is boolean-equivalent to true, either directly or through computation by the provided iterator </p>
</div>
<pre class="body prettyprint">
	function any(iterator, context) {
		iterator = iterator || Prototype.K;
		var result = false;
		this.each(function(value, index) {
			if (result = !!iterator.call(context, value, index))
				throw $break;
		});
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="collect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/collect" title="View the documentation for collect">collect</a></p>
<p class="desc">Returns the results of applying the iterator to each element </p>
</div>
<pre class="body prettyprint">
	function collect(iterator, context) {
		iterator = iterator || Prototype.K;
		var results = [];
		this.each(function(value, index) {
			results.push(iterator.call(context, value, index));
		});
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="detect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/detect" title="View the documentation for detect">detect</a></p>
<p class="desc">Finds the first element for which the iterator returns true </p>
</div>
<pre class="body prettyprint">
	function detect(iterator, context) {
		var result;
		this.each(function(value, index) {
			if (iterator.call(context, value, index)) {
				result = value;
				throw $break;
			}
		});
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="findAll"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/findAll" title="View the documentation for findAll">findAll</a></p>
<p class="desc">Returns all the elements for which the iterator returned true </p>
</div>
<pre class="body prettyprint">
	function findAll(iterator, context) {
		var results = [];
		this.each(function(value, index) {
			if (iterator.call(context, value, index))
				results.push(value);
		});
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="grep"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/grep" title="View the documentation for grep">grep</a></p>
<p class="desc">Returns all the elements that match the filter </p>
</div>
<pre class="body prettyprint">
	function grep(filter, iterator, context) {
		iterator = iterator || Prototype.K;
		var results = [];

		if (Object.isString(filter))
			filter = new RegExp(RegExp.escape(filter));

		this.each(function(value, index) {
			if (filter.match(value))
				results.push(iterator.call(context, value, index));
		});
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="include"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/include" title="View the documentation for include">include</a></p>
<p class="desc">Determines whether a given object is in the Enumerable or not, based on the == comparison operator </p>
</div>
<pre class="body prettyprint">
	function include(object) {
		if (Object.isFunction(this.indexOf))
			if (this.indexOf(object) != -1) return true;

		var found = false;
		this.each(function(value) {
			if (value == object) {
				found = true;
				throw $break;
			}
		});
		return found;
	}</pre>
					</div>
<div class="block function"> <a name="inGroupsOf"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/inGroupsOf" title="View the documentation for inGroupsOf">inGroupsOf</a></p>
<p class="desc">Groups items in fixed-size chunks, using a specific value to fill up the last chunk if necessary </p>
</div>
<pre class="body prettyprint">
	function inGroupsOf(number, fillWith) {
		fillWith = Object.isUndefined(fillWith) ? null : fillWith;
		return this.eachSlice(number, function(slice) {
			while(slice.length &lt; number) slice.push(fillWith);
			return slice;
		});
	}</pre>
					</div>
<div class="block function"> <a name="inject"></a>

<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/inject" title="View the documentation for inject">inject</a></p>
<p class="desc">Incrementally builds a result value based on the successive results of the iterator </p>
</div>
<pre class="body prettyprint">
	function inject(memo, iterator, context) {
		this.each(function(value, index) {
			memo = iterator.call(context, memo, value, index);
		});
		return memo;
	}</pre>
					</div>
<div class="block function"> <a name="invoke"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/invoke" title="View the documentation for invoke">invoke</a></p>
<p class="desc">Invokes the same method, with the same arguments, for all items in a collection </p>
</div>
<pre class="body prettyprint">
	function invoke(method) {
		var args = $A(arguments).slice(1);
		return this.map(function(value) {
			return value[method].apply(value, args);
		});
	}</pre>
					</div>
<div class="block function"> <a name="max"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/max" title="View the documentation for max">max</a></p>
<p class="desc">Returns the maximum element (or element-based computation), or undefined if the enumeration is empty </p>
</div>
<pre class="body prettyprint">
	function max(iterator, context) {
		iterator = iterator || Prototype.K;
		var result;
		this.each(function(value, index) {
			value = iterator.call(context, value, index);
			if (result == null || value &gt;= result)
				result = value;
		});
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="min"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/min" title="View the documentation for min">min</a></p>
<p class="desc">Returns the minimum element (or element-based computation), or undefined if the enumeration is empty </p>
</div>
<pre class="body prettyprint">
	function min(iterator, context) {
		iterator = iterator || Prototype.K;
		var result;
		this.each(function(value, index) {
			value = iterator.call(context, value, index);
			if (result == null || value &lt; result)
				result = value;
		});
		return result;
	}</pre>
					</div>
<div class="block function"> <a name="partition"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/partition" title="View the documentation for partition">partition</a></p>
<p class="desc">Partitions the elements in two groups: those regarded as true, and those considered false </p>
</div>
<pre class="body prettyprint">
	function partition(iterator, context) {
		iterator = iterator || Prototype.K;
		var trues = [], falses = [];
		this.each(function(value, index) {
			(iterator.call(context, value, index) ?
				trues : falses).push(value);
		});
		return [trues, falses];
	}</pre>
					</div>
<div class="block function"> <a name="pluck"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/pluck" title="View the documentation for pluck">pluck</a></p>
<p class="desc">Optimization for a common use-case of collect: fetching the same property for all the elements </p>
</div>
<pre class="body prettyprint">
	function pluck(property) {
		var results = [];
		this.each(function(value) {
			results.push(value[property]);
		});
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="reject"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/reject" title="View the documentation for reject">reject</a></p>
<p class="desc">Returns all the elements for which the iterator returned false </p>
</div>
<pre class="body prettyprint">
	function reject(iterator, context) {
		var results = [];
		this.each(function(value, index) {
			if (!iterator.call(context, value, index))
				results.push(value);
		});
		return results;
	}</pre>
					</div>
<div class="block function"> <a name="sortBy"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/sortBy" title="View the documentation for sortBy">sortBy</a></p>
<p class="desc">Provides a custom-sorted view of the elements based on the criteria computed, for each element, by the iterator </p>
</div>
<pre class="body prettyprint">
	function sortBy(iterator, context) {
		return this.map(function(value, index) {
			return {
				value: value,
				criteria: iterator.call(context, value, index)
			};
		}).sort(function(left, right) {
			var a = left.criteria, b = right.criteria;
			return a &lt; b ? -1 : a &gt; b ? 1 : 0;
		}).pluck('value');
	}</pre>
					</div>
<div class="block function"> <a name="toArray"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/toArray" title="View the documentation for toArray">toArray</a></p>
<p class="desc">Returns an Array representation of the enumeration </p>
</div>
<pre class="body prettyprint">
	function toArray() {
		return this.map();
	}</pre>
					</div>
<div class="block function"> <a name="zip"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/zip" title="View the documentation for zip">zip</a></p>
<p class="desc">Zips together (think of the zip on a pair of trousers) 2+ sequences, providing an array of tuples</p>
</div>
<pre class="body prettyprint">
	function zip() {
		var iterator = Prototype.K, args = $A(arguments);
		if (Object.isFunction(args.last()))
			iterator = args.pop();

		var collections = [this].concat(args).map($A);
		return this.map(function(value, index) {
			return iterator(collections.pluck(index));
		});
	}</pre>
					</div>
<div class="block function"> <a name="size"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/size" title="View the documentation for size">size</a></p>
<p class="desc">Returns the size of the enumeration </p>
</div>
<pre class="body prettyprint">
	function size() {
		return this.toArray().length;
	}</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/enumerable/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc">Debugging function</p>
</div>
<pre class="body prettyprint">
	function inspect() {
		return '#&lt;Enumerable:' + this.toArray().inspect() + '&gt;';
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		each:       each,
		eachSlice:  eachSlice,
		all:        all,
		every:      all,
		any:        any,
		some:       any,
		collect:    collect,
		map:        collect,
		detect:     detect,
		findAll:    findAll,
		select:     findAll,
		filter:     findAll,
		grep:       grep,
		include:    include,
		member:     include,
		inGroupsOf: inGroupsOf,
		inject:     inject,
		invoke:     invoke,
		max:        max,
		min:        min,
		partition:  partition,
		pluck:      pluck,
		reject:     reject,
		sortBy:     sortBy,
		toArray:    toArray,
		entries:    toArray,
		zip:        zip,
		size:       size,
		inspect:    inspect,
		find:       detect
	};</pre>
					</div>
					<pre class="body prettyprint">
})();</pre>
				</div>
<div class="block function"> <a name="$A"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-a" title="View the documentation for $A">$A</a></p>
<p class="desc">Accepts an array-like collection (anything with numeric indices) and returns its equivalent as an actual Array object. This method is a convenience alias of Array.from, but is the preferred way of casting to an Array.</p>
</div>
<pre class="body prettyprint">
function $A(iterable) {
	if (!iterable) return [];
	if ('toArray' in Object(iterable)) return iterable.toArray();
	var length = iterable.length || 0, results = new Array(length);
	while (length--) results[length] = iterable[length];
	return results;
}</pre>
				</div>
<div class="block function"> <a name="$w"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-w" title="View the documentation for $w">$w</a></p>
<p class="desc">Splits a string into an Array, treating all whitespace as delimiters. Equivalent to Ruby's %w{foo bar} or Perl's qw(foo bar).</p>
</div>
<pre class="body prettyprint">
function $w(string) {
	if (!Object.isString(string)) return [];
	string = string.strip();
	return string ? string.split(/\s+/) : [];
}</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Array.from</strong></p>
					</div>
					<pre class="body prettyprint">
Array.from = $A;</pre>
				</div>
				<div class="block extend"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/array" title="View the documentation for ">Array</a></p>
						<p class="desc">Prototype extends all native Javascript arrays with quite a few powerful methods</p>
					</div>
					<pre class="body">
(function() {</pre><div class="block code">
<div class="head">
<p class="title"><span class="type">Code : </span><strong>Borrow native methods</strong></p>
</div>
<pre class="body prettyprint">
	var arrayProto = Array.prototype,
		slice = arrayProto.slice,
		_each = arrayProto.forEach; // use native browser JS 1.6 implementation if available</pre>
					</div>
<div class="block function"> <a name="each"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/each" title="View the documentation for each">each</a></p>
<p class="desc">Iterates over the array in ascending numerical index order </p>
</div>
<pre class="body prettyprint">
	function each(iterator) {
		for (var i = 0, length = this.length; i &lt; length; i++)
			iterator(this[i]);
	}</pre>
					</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>_each</strong></p>
</div>
<pre class="body prettyprint">
	if (!_each) _each = each;</pre>
					</div>
<div class="block function"> <a name="clear"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/clear" title="View the documentation for clear">clear</a></p>
<p class="desc">Clears the array (makes it empty) </p>
</div>
<pre class="body prettyprint">
	function clear() {
		this.length = 0;
		return this;
	}</pre>
					</div>
<div class="block function"> <a name="first"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/first" title="View the documentation for first">first</a></p>
<p class="desc">Returns the first item in the array, or undefined if the array is empty </p>
</div>
<pre class="body prettyprint">
	function first() {
		return this[0];
	}</pre>
					</div>
<div class="block function"> <a name="last"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/last" title="View the documentation for last">last</a></p>
<p class="desc">Returns the last item in the array, or undefined if the array is empty </p>
</div>
<pre class="body prettyprint">
	function last() {
		return this[this.length - 1];
	}</pre>
					</div>
<div class="block function"> <a name="compact"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/compact" title="View the documentation for compact">compact</a></p>
<p class="desc">Returns a new version of the array, without any null/undefined values </p>
</div>
<pre class="body prettyprint">
	function compact() {
		return this.select(function(value) {
			return value != null;
		});
	}</pre>
					</div>
<div class="block function"> <a name="flatten"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/flatten" title="View the documentation for flatten">flatten</a></p>
<p class="desc">Returns a “flat” (one-dimensional) version of the array </p>
</div>
<pre class="body prettyprint">
	function flatten() {
		return this.inject([], function(array, value) {
			if (Object.isArray(value))
				return array.concat(value.flatten());
			array.push(value);
			return array;
		});
	}</pre>
					</div>
<div class="block function"> <a name="without"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/without" title="View the documentation for without">without</a></p>
<p class="desc">Produces a new version of the array that does not contain any of the specified values</p>
</div>
<pre class="body prettyprint">
	function without() {
		var values = slice.call(arguments, 0);
		return this.select(function(value) {
			return !values.include(value);
		});
	}</pre>
					</div>
<div class="block function"> <a name="reverse"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/reverse" title="View the documentation for reverse">reverse</a></p>
<p class="desc">Returns the reversed version of the array </p>
</div>
<pre class="body prettyprint">
	function reverse(inline) {
		return (inline !== false ? this : this.toArray())._reverse();
	}</pre>
					</div>
<div class="block function"> <a name="uniq"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/uniq" title="View the documentation for uniq">uniq</a></p>
<p class="desc">Produces a duplicate-free version of an array </p>
</div>
<pre class="body prettyprint">
	function uniq(sorted) {
		return this.inject([], function(array, value, index) {
			if (0 == index || (sorted ? array.last() != value : !array.include(value)))
				array.push(value);
			return array;
		});
	}</pre>
					</div>
<div class="block function"> <a name="intersect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/intersect" title="View the documentation for intersect">intersect</a></p>
<p class="desc">Not available</p>
</div>
<pre class="body prettyprint">
	function intersect(array) {
		return this.uniq().findAll(function(item) {
			return array.detect(function(value) { return item === value });
		});
	}</pre>
					</div>
<div class="block function"> <a name="clone"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/clone" title="View the documentation for clone">clone</a></p>
<p class="desc">Returns a duplicate of the array, leaving the original array intact </p>
</div>
<pre class="body prettyprint">
	function clone() {
		return slice.call(this, 0);
	}</pre>
					</div>
<div class="block function"> <a name="size"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/size" title="View the documentation for size">size</a></p>
<p class="desc">Returns the size of the array </p>
</div>
<pre class="body prettyprint">
	function size() {
		return this.length;
	}</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc">Returns the debug-oriented string representation of an array </p>
</div>
<pre class="body prettyprint">
	function inspect() {
		return '[' + this.map(Object.inspect).join(', ') + ']';
	}</pre>
					</div>
<div class="block function"> <a name="toJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/toJSON" title="View the documentation for toJSON">toJSON</a></p>
<p class="desc">Returns a JSON string </p>
</div>
<pre class="body prettyprint">
	function toJSON() {
		var results = [];
		this.each(function(object) {
			var value = Object.toJSON(object);
			if (!Object.isUndefined(value)) results.push(value);
		});
		return '[' + results.join(', ') + ']';
	}</pre>
					</div>
<div class="block function"> <a name="indexOf"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/indexOf" title="View the documentation for indexOf">indexOf</a></p>
<p class="desc">Returns the position of the first occurrence of the argument within the array </p>
</div>
<pre class="body prettyprint">
	function indexOf(item, i) {
		i || (i = 0);
		var length = this.length;
		if (i &lt; 0) i = length + i;
		for (; i &lt; length; i++)
			if (this[i] === item) return i;
		return -1;
	}</pre>
					</div>
<div class="block function"> <a name="lastIndexOf"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/lastIndexOf" title="View the documentation for lastIndexOf">lastIndexOf</a></p>
<p class="desc">Returns the position of the last occurrence of the argument within the array </p>
</div>
<pre class="body prettyprint">
	function lastIndexOf(item, i) {
		i = isNaN(i) ? this.length : (i &lt; 0 ? this.length + i : i) + 1;
		var n = this.slice(0, i).reverse().indexOf(item);
		return (n &lt; 0) ? n : i - n - 1;
	}</pre>
					</div>
<div class="block function"> <a name="concat"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/array/concat" title="View the documentation for concat">concat</a></p>
<p class="desc">Concatenates two arrays, returning a new array</p>
</div>
<pre class="body prettyprint">
	function concat() {
		var array = slice.call(this, 0), item;
		for (var i = 0, length = arguments.length; i &lt; length; i++) {
			item = arguments[i];
			if (Object.isArray(item) &amp;&amp; !('callee' in item)) {
				for (var j = 0, arrayLength = item.length; j &lt; arrayLength; j++)
					array.push(item[j]);
			} else {
				array.push(item);
			}
		}
		return array;
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	Object.extend(arrayProto, Enumerable);

	if (!arrayProto._reverse)
		arrayProto._reverse = arrayProto.reverse;

	Object.extend(arrayProto, {
		_each:     _each,
		clear:     clear,
		first:     first,
		last:      last,
		compact:   compact,
		flatten:   flatten,
		without:   without,
		reverse:   reverse,
		uniq:      uniq,
		intersect: intersect,
		clone:     clone,
		toArray:   clone,
		size:      size,
		inspect:   inspect,
		toJSON:    toJSON
	});

	var CONCAT_ARGUMENTS_BUGGY = (function() {
		return [].concat(arguments)[0][0] !== 1;
	})(1,2)

	if (CONCAT_ARGUMENTS_BUGGY) arrayProto.concat = concat;

	if (!arrayProto.indexOf) arrayProto.indexOf = indexOf;
	if (!arrayProto.lastIndexOf) arrayProto.lastIndexOf = lastIndexOf;</pre>
					</div>
					<pre class="body">
})();</pre>
				</div>
<div class="block function"> <a name="$H"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-h" title="View the documentation for $H">$H</a></p>
<p class="desc">Creates a Hash (which is synonymous to “map” or “associative array” for our purposes). A convenience wrapper around the Hash constructor, with a safeguard that lets you pass an existing Hash object and get it back untouched (instead of uselessly cloning it).</p>
</div>
<pre class="body prettyprint">
function $H(object) {
	return new Hash(object);
};</pre>
				</div><div class="block extend class"> <a name="Hash"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/Hash" title="View the documentation for Hash">Hash</a></p>
<p class="desc">Hash can be thought of as an associative array, binding unique keys to values (which are not necessarily unique), though it can not guarantee consistent order its elements when iterating. </p>
</div>
<pre class="body">

var Hash = Class.create(Enumerable, (function() {</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>
</div>
<pre class="body prettyprint">
	function initialize(object) {
		this._object = Object.isHash(object) ? object.toObject() : Object.clone(object);
	}</pre>
					</div>
<div class="block function"> <a name="_each"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_each</strong></p>
<p class="desc">Iterates over the name/value pairs in the hash </p>
</div>
<pre class="body prettyprint">
	function _each(iterator) {
		for (var key in this._object) {
			var value = this._object[key], pair = [key, value];
			pair.key = key;
			pair.value = value;
			iterator(pair);
		}
	}</pre>
					</div>
<div class="block function"> <a name="set"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/set" title="View the documentation for set">set</a></p>
<p class="desc">Sets the hash’s key property to value and returns value </p>
</div>
<pre class="body prettyprint">
	function set(key, value) {
		return this._object[key] = value;
	}</pre>
					</div>
<div class="block function"> <a name="get"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/get" title="View the documentation for get">get</a></p>
<p class="desc">Returns the value of the hash’s key property </p>
</div>
<pre class="body prettyprint">
	function get(key) {
		if (this._object[key] !== Object.prototype[key])
			return this._object[key];
	}</pre>
					</div>
<div class="block function"> <a name="unset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/unset" title="View the documentation for unset">unset</a></p>
<p class="desc">Deletes the hash’s key property and returns its value </p>
</div>
<pre class="body prettyprint">
	function unset(key) {
		var value = this._object[key];
		delete this._object[key];
		return value;
	}</pre>
					</div>
<div class="block function"> <a name="toObject"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toObject" title="View the documentation for toObject">toObject</a></p>
<p class="desc">Returns a cloned, vanilla object </p>
</div>
<pre class="body prettyprint">
	function toObject() {
		return Object.clone(this._object);
	}</pre>
					</div>
<div class="block function"> <a name="keys"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/keys" title="View the documentation for keys">keys</a></p>
<p class="desc">Provides an Array of keys (that is, property names) for the hash </p>
</div>
<pre class="body prettyprint">
	function keys() {
		return this.pluck('key');
	}</pre>
					</div>
<div class="block function"> <a name="values"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/values" title="View the documentation for values">values</a></p>
<p class="desc">Collect the values of a hash and returns them in an array</p>
</div>
<pre class="body prettyprint">
	function values() {
		return this.pluck('value');
	}</pre>
					</div>
<div class="block function"> <a name="index"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/index" title="View the documentation for index">index</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	function index(value) {
		var match = this.detect(function(pair) {
			return pair.value === value;
		});
		return match &amp;&amp; match.key;
	}</pre>
					</div>
<div class="block function"> <a name="merge"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/merge" title="View the documentation for merge">merge</a></p>
<p class="desc">Merges object to hash and returns the result of that merge </p>
</div>
<pre class="body prettyprint">
	function merge(object) {
		return this.clone().update(object);
	}</pre>
					</div>
<div class="block function"> <a name="update"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/update" title="View the documentation for update">update</a></p>
<p class="desc">Updates hash with the key/value pairs of object </p>
</div>
<pre class="body prettyprint">
	function update(object) {
		return new Hash(object).inject(this, function(result, pair) {
			result.set(pair.key, pair.value);
			return result;
		});
	}</pre>
					</div>
<div class="block function"> <a name="toQueryPair"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toQueryPair" title="View the documentation for toQueryPair">toQueryPair</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	function toQueryPair(key, value) {
		if (Object.isUndefined(value)) return key;
		return key + '=' + encodeURIComponent(String.interpret(value));
	}</pre>
					</div>
<div class="block function"> <a name="toQueryString"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toQueryString" title="View the documentation for toQueryString">toQueryString</a></p>
<p class="desc">Turns a hash into its URL-encoded query string representation </p>
</div>
<pre class="body prettyprint">
	function toQueryString() {
		return this.inject([], function(results, pair) {
			var key = encodeURIComponent(pair.key), values = pair.value;

			if (values &amp;&amp; typeof values == 'object') {
				if (Object.isArray(values))
					return results.concat(values.map(toQueryPair.curry(key)));
			} else results.push(toQueryPair(key, values));
			return results;
		}).join('&amp;');
	}</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc">Returns the debug-oriented string representation of the hash </p>
</div>
<pre class="body prettyprint">
	function inspect() {
		return '#&lt;Hash:{' + this.map(function(pair) {
			return pair.map(Object.inspect).join(': ');
		}).join(', ') + '}&gt;';
	}</pre>
					</div>
<div class="block function"> <a name="toJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toJSON" title="View the documentation for toJSON">toJSON</a></p>
<p class="desc">Returns a JSON string </p>
</div>
<pre class="body prettyprint">
	function toJSON() {
		return Object.toJSON(this.toObject());
	}</pre>
					</div>
<div class="block function"> <a name="clone"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/clone" title="View the documentation for clone">clone</a></p>
<p class="desc">Returns a clone of hash </p>
</div>
<pre class="body prettyprint">
	function clone() {
		return new Hash(this);
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		initialize:             initialize,
		_each:                  _each,
		set:                    set,
		get:                    get,
		unset:                  unset,
		toObject:               toObject,
		toTemplateReplacements: toObject,
		keys:                   keys,
		values:                 values,
		index:                  index,
		merge:                  merge,
		update:                 update,
		toQueryString:          toQueryString,
		inspect:                inspect,
		toJSON:                 toJSON,
		clone:                  clone
	};</pre>
					</div>
					<pre class="body">
})());</pre>
				</div><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>Hash.from</strong></p>
</div>
<pre class="body prettyprint">
Hash.from = $H;</pre>
				</div>
<div class="block extend"> <a name="Number"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/Number" title="View the documentation for Number">Number</a></p>
<p class="desc">Prototype extends native JavaScript numbers</p>
</div>
<pre class="body">
Object.extend(Number.prototype, (function() {</pre>
<div class="block function"> <a name="toColorPart"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/toColorPart" title="View the documentation for toColorPart">toColorPart</a></p>
<p class="desc">Produces a 2-digit hexadecimal representation of the number (which is therefore assumed to be in the [0 </p>
</div>
<pre class="body prettyprint">
	function toColorPart() {
		return this.toPaddedString(2, 16);
	}</pre>
					</div>
<div class="block function"> <a name="succ"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/succ" title="View the documentation for succ">succ</a></p>
<p class="desc">Returns the successor of the current Number, as defined by current + 1 </p>
</div>
<pre class="body prettyprint">
	function succ() {
		return this + 1;
	}</pre>
					</div>
<div class="block function"> <a name="times"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/times" title="View the documentation for times">times</a></p>
<p class="desc">Encapsulates a regular [0..n[ loop, Ruby-style</p>
</div>
<pre class="body prettyprint">
	function times(iterator, context) {
		$R(0, this, true).each(iterator, context);
		return this;
	}</pre>
					</div>
<div class="block function"> <a name="toPaddedString"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/toPaddedString" title="View the documentation for toPaddedString">toPaddedString</a></p>
<p class="desc">Converts the number into a string padded with 0s so that the string’s length is at least equal to length</p>
</div>
<pre class="body prettyprint">
	function toPaddedString(length, radix) {
		var string = this.toString(radix || 10);
		return '0'.times(length - string.length) + string;
	}</pre>
					</div>
<div class="block function"> <a name="toJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/toJSON" title="View the documentation for toJSON">toJSON</a></p>
<p class="desc">Returns a JSON string </p>
</div>
<pre class="body prettyprint">
	function toJSON() {
		return isFinite(this) ? this.toString() : 'null';
	}</pre>
					</div>
<div class="block function"> <a name="abs"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/abs" title="View the documentation for abs">abs</a></p>
<p class="desc">Returns the absolute value of the number </p>
</div>
<pre class="body prettyprint">
	function abs() {
		return Math.abs(this);
	}</pre>
					</div>
<div class="block function"> <a name="round"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/round" title="View the documentation for round">round</a></p>
<p class="desc">Rounds the number to the nearest integer </p>
</div>
<pre class="body prettyprint">
	function round() {
		return Math.round(this);
	}</pre>
					</div>
<div class="block function"> <a name="ceil"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/ceil" title="View the documentation for ceil">ceil</a></p>
<p class="desc">Returns the smallest integer greater than or equal to the number </p>
</div>
<pre class="body prettyprint">
	function ceil() {
		return Math.ceil(this);
	}</pre>
					</div>
<div class="block function"> <a name="floor"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/number/floor" title="View the documentation for floor">floor</a></p>
<p class="desc">Returns the largest integer less than or equal to the number </p>
</div>
<pre class="body prettyprint">
	function floor() {
		return Math.floor(this);
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		toColorPart:    toColorPart,
		succ:           succ,
		times:          times,
		toPaddedString: toPaddedString,
		toJSON:         toJSON,
		abs:            abs,
		round:          round,
		ceil:           ceil,
		floor:          floor
	};</pre>
					</div>
					<pre class="body">
})());</pre>
				</div>
<div class="block function"> <a name="$R"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-r" title="View the documentation for $R">$R</a></p>
<p class="desc">Creates a new ObjectRange object. This method is a convenience wrapper around the ObjectRange constructor, but $R is the preferred alias</p>
</div>
<pre class="body prettyprint">
function $R(start, end, exclusive) {
	return new ObjectRange(start, end, exclusive);
}</pre>
				</div><div class="block extend class"> <a name="ObjectRange"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/objectRange" title="View the documentation for ObjectRange">ObjectRange</a></p>
<p class="desc">Ranges represent an interval of values. The value type just needs to be “compatible,” that is, to implement a succ method letting us step from one value to the next (its successor)</p>
</div>
<pre class="body">

var ObjectRange = Class.create(Enumerable, (function() {</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>
</div>
<pre class="body prettyprint">
	function initialize(start, end, exclusive) {
		this.start = start;
		this.end = end;
		this.exclusive = exclusive;
	}</pre>
					</div>
<div class="block function"> <a name="_each"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_each</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function _each(iterator) {
		var value = this.start;
		while (this.include(value)) {
			iterator(value);
			value = value.succ();
		}
	}</pre>
					</div>
<div class="block function"> <a name="include"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/objectRange/include" title="View the documentation for include">include</a></p>
<p class="desc">Determines whether the value is included in the range</p>
</div>
<pre class="body prettyprint">
	function include(value) {
		if (value &lt; this.start)
			return false;
		if (this.exclusive)
			return value &lt; this.end;
		return value &lt;= this.end;
	}</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	return {
		initialize: initialize,
		_each:      _each,
		include:    include
	};</pre>
					</div>
					<pre class="body">
})());</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Ajax</a></p>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/ajax" title="View the documentation for Ajax">Ajax</a></p>
						<p class="desc">Prototype offers three objects to deal with AJAX communication</p>
					</div>
					<pre class="body prettyprint">
var Ajax = {</pre>
<div class="block function"> <a name="getTransport"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>getTransport</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	getTransport: function() {
		return Try.these(
			function() {return new XMLHttpRequest()},
			function() {return new ActiveXObject('Msxml2.XMLHTTP')},
			function() {return new ActiveXObject('Microsoft.XMLHTTP')}
		) || false;
	},</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>activeRequestCount</strong></p>
						</div>
						<pre class="body prettyprint">
	activeRequestCount: 0</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/ajax/responders" title="View the documentation for Ajax.Responders">Ajax.Responders</a></p>
						<p class="desc">A repository of global listeners notified about every step of Prototype-based AJAX requests</p>
					</div>
					<pre class="body prettyprint">
Ajax.Responders = {</pre>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>responders</strong></p>
						</div>
						<pre class="body prettyprint">
	responders: [],</pre>
					</div>
<div class="block function"> <a name="_each"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_each</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	_each: function(iterator) {
		this.responders._each(iterator);
	},</pre>
					</div>
<div class="block function"> <a name="register"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/responders" title="View the documentation for register">register</a></p>
<p class="desc">Registers a responder</p>
</div>
<pre class="body prettyprint">
	register: function(responder) {
		if (!this.include(responder))
			this.responders.push(responder);
	},</pre>
					</div>
<div class="block function"> <a name="unregister"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/responders" title="View the documentation for unregister">unregister</a></p>
<p class="desc">Unregisters a responder</p>
</div>
<pre class="body prettyprint">
	unregister: function(responder) {
		this.responders = this.responders.without(responder);
	},</pre>
					</div>
<div class="block function"> <a name="dispatch"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>dispatch</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	dispatch: function(callback, request, transport, json) {
		this.each(function(responder) {
			if (Object.isFunction(responder[callback])) {
				try {
					responder[callback].apply(responder, [request, transport, json]);
				} catch (e) { }
			}
		});
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>Assign methods</strong></p>
					</div>
					<pre class="body prettyprint">
Object.extend(Ajax.Responders, Enumerable);

Ajax.Responders.register({
	onCreate:   function() { Ajax.activeRequestCount++ },
	onComplete: function() { Ajax.activeRequestCount-- }
});</pre>
				</div><div class="block extend class"> <a name="Ajax.Base"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><strong>Ajax.Base</strong></p>
<p class="desc">Ajax base class for all Ajax classes</p>
</div>
<pre class="body">

Ajax.Base = Class.create({</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>

</div>
<pre class="body prettyprint">
	initialize: function(options) {
		this.options = {
			method:       'post',
			asynchronous: true,
			contentType:  'application/x-www-form-urlencoded',
			encoding:     'UTF-8',
			parameters:   '',
			evalJSON:     true,
			evalJS:       true
		};
		Object.extend(this.options, options || { });

		this.options.method = this.options.method.toLowerCase();

		if (Object.isString(this.options.parameters))
			this.options.parameters = this.options.parameters.toQueryParams();
		else if (Object.isHash(this.options.parameters))
			this.options.parameters = this.options.parameters.toObject();
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Ajax.Request"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/Ajax.Request" title="View the documentation for Ajax.Request">Ajax.Request</a></p>
<p class="desc">Initiates and processes an AJAX request</p>
</div>
<pre class="body">

Ajax.Request = Class.create(Ajax.Base, {</pre><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>_complete</strong></p>
</div>
<pre class="body prettyprint">
	_complete: false,</pre>
					</div>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constrcutor function</p>
</div>
<pre class="body prettyprint">
	initialize: function($super, url, options) {
		$super(options);
		this.transport = Ajax.getTransport();
		this.request(url);
	},</pre>
					</div>
<div class="block function"> <a name="request"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/Ajax.Request">request</a></p>
<p class="desc">Internal function called by the constuctor that makes the request</p>
</div>
<pre class="body prettyprint">
	request: function(url) {
		this.url = url;
		this.method = this.options.method;
		var params = Object.clone(this.options.parameters);

		if (!['get', 'post'].include(this.method)) {
			params['_method'] = this.method;
			this.method = 'post';
		}

		this.parameters = params;

		if (params = Object.toQueryString(params)) {
			if (this.method == 'get')
				this.url += (this.url.include('?') ? '&amp;' : '?') + params;
			else if (/Konqueror|Safari|KHTML/.test(navigator.userAgent))
				params += '&amp;_=';
		}

		try {
			var response = new Ajax.Response(this);
			if (this.options.onCreate) this.options.onCreate(response);
			Ajax.Responders.dispatch('onCreate', this, response);

			this.transport.open(this.method.toUpperCase(), this.url,
				this.options.asynchronous);

			if (this.options.asynchronous) this.respondToReadyState.bind(this).defer(1);

			this.transport.onreadystatechange = this.onStateChange.bind(this);
			this.setRequestHeaders();

			this.body = this.method == 'post' ? (this.options.postBody || params) : null;
			this.transport.send(this.body);

			/* Force Firefox to handle ready state 4 for synchronous requests */
			if (!this.options.asynchronous &amp;&amp; this.transport.overrideMimeType)
				this.onStateChange();

		}
		catch (e) {
			this.dispatchException(e);
		}
	},</pre>
					</div>
<div class="block function"> <a name="onStateChange"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>onStateChange</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	onStateChange: function() {
		var readyState = this.transport.readyState;
		if (readyState &gt; 1 &amp;&amp; !((readyState == 4) &amp;&amp; this._complete))
			this.respondToReadyState(this.transport.readyState);
	},</pre>
					</div>
<div class="block function"> <a name="setRequestHeaders"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>setRequestHeaders</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	setRequestHeaders: function() {
		var headers = {
			'X-Requested-With': 'XMLHttpRequest',
			'X-Prototype-Version': Prototype.Version,
			'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
		};

		if (this.method == 'post') {
			headers['Content-type'] = this.options.contentType +
				(this.options.encoding ? '; charset=' + this.options.encoding : '');

			/* Force &quot;Connection: close&quot; for older Mozilla browsers to work
 			* around a bug where XMLHttpRequest sends an incorrect
 			* Content-length header. See Mozilla Bugzilla #246651.
 			*/
			if (this.transport.overrideMimeType &amp;&amp;
					(navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] &lt; 2005)
						headers['Connection'] = 'close';
		}

		if (typeof this.options.requestHeaders == 'object') {
			var extras = this.options.requestHeaders;

			if (Object.isFunction(extras.push))
				for (var i = 0, length = extras.length; i &lt; length; i += 2)
					headers[extras[i]] = extras[i+1];
			else
				$H(extras).each(function(pair) { headers[pair.key] = pair.value });
		}

		for (var name in headers)
			this.transport.setRequestHeader(name, headers[name]);
	},</pre>
					</div>
<div class="block function"> <a name="success"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>success</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	success: function() {
		var status = this.getStatus();
		return !status || (status &gt;= 200 &amp;&amp; status &lt; 300);
	},</pre>
					</div>
<div class="block function"> <a name="getStatus"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>getStatus</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	getStatus: function() {
		try {
			return this.transport.status || 0;
		} catch (e) { return 0 }
	},</pre>
					</div>
<div class="block function"> <a name="respondToReadyState"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>respondToReadyState</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	respondToReadyState: function(readyState) {
		var state = Ajax.Request.Events[readyState], response = new Ajax.Response(this);

		if (state == 'Complete') {
			try {
				this._complete = true;
				(this.options['on' + response.status]
 				|| this.options['on' + (this.success() ? 'Success' : 'Failure')]
 				|| Prototype.emptyFunction)(response, response.headerJSON);
			} catch (e) {
				this.dispatchException(e);
			}

			var contentType = response.getHeader('Content-type');
			if (this.options.evalJS == 'force'
					|| (this.options.evalJS &amp;&amp; this.isSameOrigin() &amp;&amp; contentType
					&amp;&amp; contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i)))
				this.evalResponse();
		}

		try {
			(this.options['on' + state] || Prototype.emptyFunction)(response, response.headerJSON);
			Ajax.Responders.dispatch('on' + state, this, response, response.headerJSON);
		} catch (e) {
			this.dispatchException(e);
		}

		if (state == 'Complete') {
			this.transport.onreadystatechange = Prototype.emptyFunction;
		}
	},</pre>
					</div>
<div class="block function"> <a name="isSameOrigin"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>isSameOrigin</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	isSameOrigin: function() {
		var m = this.url.match(/^\s*https?:\/\/[^\/]*/);
		return !m || (m[0] == '#{protocol}//#{domain}#{port}'.interpolate({
			protocol: location.protocol,
			domain: document.domain,
			port: location.port ? ':' + location.port : ''
		}));
	},</pre>
					</div>
<div class="block function"> <a name="getHeader"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>getHeader</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	getHeader: function(name) {
		try {
			return this.transport.getResponseHeader(name) || null;
		} catch (e) { return null; }
	},</pre>
					</div>
<div class="block function"> <a name="evalResponse"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>evalResponse</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	evalResponse: function() {
		try {
			return eval((this.transport.responseText || '').unfilterJSON());
		} catch (e) {
			this.dispatchException(e);
		}
	},</pre>
					</div>
<div class="block function"> <a name="dispatchException"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>dispatchException</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	dispatchException: function(exception) {
		(this.options.onException || Prototype.emptyFunction)(this, exception);
		Ajax.Responders.dispatch('onException', this, exception);
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Ajax.Request.Events</strong></p>
					</div>
					<pre class="body prettyprint">
Ajax.Request.Events =
	['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];</pre>
				</div><div class="block extend class"> <a name="Ajax.Response"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for Ajax.Response">Ajax.Response</a></p>
<p class="desc">The object passed as the first argument of all Ajax requests callbacks</p>
</div>
<pre class="body">

Ajax.Response = Class.create({</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>

</div>
<pre class="body prettyprint">
	initialize: function(request){
		this.request = request;
		var transport  = this.transport  = request.transport,
				readyState = this.readyState = transport.readyState;

		if((readyState &gt; 2 &amp;&amp; !Prototype.Browser.IE) || readyState == 4) {
			this.status       = this.getStatus();
			this.statusText   = this.getStatusText();
			this.responseText = String.interpret(transport.responseText);
			this.headerJSON   = this._getHeaderJSON();
		}

		if(readyState == 4) {
			var xml = transport.responseXML;
			this.responseXML  = Object.isUndefined(xml) ? null : xml;
			this.responseJSON = this._getResponseJSON();
		}
	},</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>status</strong></p>
						</div>
						<pre class="body prettyprint">
	status:      0,</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>statusText</strong></p>
						</div>
						<pre class="body prettyprint">
	statusText: '',</pre>
					</div>
<div class="block function"> <a name="getStatus"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for getStatus">getStatus</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	getStatus: Ajax.Request.prototype.getStatus,</pre>
					</div>
<div class="block function"> <a name="getStatusText"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for getStatusText">getStatusText</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	getStatusText: function() {
		try {
			return this.transport.statusText || '';
		} catch (e) { return '' }
	},</pre>
					</div>
<div class="block function"> <a name="getHeader"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for getHeader">getHeader</a></p>
<p class="desc">Returns the value of the requested header if present. null otherwise. Does not throw errors on undefined headers like it’s native counterpart does</p>
</div>
<pre class="body prettyprint">
	getHeader: Ajax.Request.prototype.getHeader,</pre>
					</div>
<div class="block function"> <a name="getAllHeaders"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for getAllHeaders">getAllHeaders</a></p>
<p class="desc">Returns a string containing all headers separated by a line break. Does not throw errors if no headers are present like it’s native counterpart does</p>
</div>
<pre class="body prettyprint">
	getAllHeaders: function() {
		try {
			return this.getAllResponseHeaders();
		} catch (e) { return null }
	},</pre>
					</div>
<div class="block function"> <a name="getResponseHeader"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/ajax/response" title="View the documentation for getResponseHeader">getResponseHeader</a></p>
<p class="desc">Returns the value of the requested header if present. Throws an error otherwise. This is just a wrapper around the xmlHttpRequest object’s native method. Prefer it’s shorter counterpart getHeader</p>
</div>
<pre class="body prettyprint">
	getResponseHeader: function(name) {
		return this.transport.getResponseHeader(name);
	},</pre>
					</div>
<div class="block function"> <a name="getAllResponseHeaders"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="getResponseHeader">getAllResponseHeaders</a></p>
<p class="desc">Returns a string containing all headers separated by a line break. Throws an error otherwise. This is just a wrapper around the xmlHttpRequest object’s native method. Prefer it’s shorter counterpart getAllHeaders</p>
</div>
<pre class="body prettyprint">
	getAllResponseHeaders: function() {
		return this.transport.getAllResponseHeaders();
	},</pre>
					</div>
<div class="block function"> <a name="_getHeaderJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_getHeaderJSON</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	_getHeaderJSON: function() {
		var json = this.getHeader('X-JSON');
		if (!json) return null;
		json = decodeURIComponent(escape(json));
		try {
			return json.evalJSON(this.request.options.sanitizeJSON ||
				!this.request.isSameOrigin());
		} catch (e) {
			this.request.dispatchException(e);
		}
	},</pre>
					</div>
<div class="block function"> <a name="_getResponseJSON"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_getResponseJSON</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	_getResponseJSON: function() {
		var options = this.request.options;
		if (!options.evalJSON || (options.evalJSON != 'force' &amp;&amp;
			!(this.getHeader('Content-type') || '').include('application/json')) ||

				this.responseText.blank())
					return null;
		try {
			return this.responseText.evalJSON(options.sanitizeJSON ||
				!this.request.isSameOrigin());
		} catch (e) {
			this.request.dispatchException(e);
		}
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Ajax.Updater"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/ajax/updater" title="View the documentation for Ajax.Updater">Ajax.Updater</a></p>
<p class="desc">Performs an AJAX request and updates a container’s contents based on the response text</p>
</div>
<pre class="body">

Ajax.Updater = Class.create(Ajax.Request, {</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>
</div>
<pre class="body prettyprint">
	initialize: function($super, container, url, options) {
		this.container = {
			success: (container.success || container),
			failure: (container.failure || (container.success ? null : container))
		};

		options = Object.clone(options);
		var onComplete = options.onComplete;
		options.onComplete = (function(response, json) {
			this.updateContent(response.responseText);
			if (Object.isFunction(onComplete)) onComplete(response, json);
		}).bind(this);

		$super(url, options);
	},</pre>
					</div>
<div class="block function"> <a name="updateContent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>updateContent</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	updateContent: function(responseText) {
		var receiver = this.container[this.success() ? 'success' : 'failure'],
				options = this.options;

		if (!options.evalScripts) responseText = responseText.stripScripts();

		if (receiver = $(receiver)) {
			if (options.insertion) {
				if (Object.isString(options.insertion)) {
					var insertion = { }; insertion[options.insertion] = responseText;
					receiver.insert(insertion);
				}
				else options.insertion(receiver, responseText);
			}
			else receiver.update(responseText);
		}
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Ajax.PeriodicalUpdater"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/Ajax.PeriodicalUpdater" title="View the documentation for Ajax.PeriodicalUpdater">Ajax.PeriodicalUpdater</a></p>
<p class="desc">Periodically performs an AJAX request and updates a container’s contents based on the response text. Offers a mechanism for “decay,” which lets it trigger at widening intervals while the response is unchanged</p>
</div>
<pre class="body">

Ajax.PeriodicalUpdater = Class.create(Ajax.Base, {</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>

</div>
<pre class="body prettyprint">
	initialize: function($super, container, url, options) {
		$super(options);
		this.onComplete = this.options.onComplete;

		this.frequency = (this.options.frequency || 2);
		this.decay = (this.options.decay || 1);

		this.updater = { };
		this.container = container;
		this.url = url;

		this.start();
	},</pre>
					</div>
<div class="block function"> <a name="start"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>start</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	start: function() {
		this.options.onComplete = this.updateComplete.bind(this);
		this.onTimerEvent();
	},</pre>
					</div>
<div class="block function"> <a name="stop"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>stop</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	stop: function() {
		this.updater.options.onComplete = undefined;
		clearTimeout(this.timer);
		(this.onComplete || Prototype.emptyFunction).apply(this, arguments);
	},</pre>
					</div>
<div class="block function"> <a name="updateComplete"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>updateComplete</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	updateComplete: function(response) {
		if (this.options.decay) {
			this.decay = (response.responseText == this.lastText ?
				this.decay * this.options.decay : 1);

			this.lastText = response.responseText;
		}
		this.timer = this.onTimerEvent.bind(this).delay(this.decay * this.frequency);
	},</pre>
					</div>
<div class="block function"> <a name="onTimerEvent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>onTimerEvent</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	onTimerEvent: function() {
		this.updater = new Ajax.Updater(this.container, this.url, this.options);
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Element</a></p>
				</div>
				<div class="block function"> <a name="$" id="$"></a>
					<div class="head">
						<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar" title="View the documentation for ">$</a></p>
						<p class="desc">If provided with a string, returns the element in the document with matching ID; otherwise returns the passed element. Takes in an arbitrary number of arguments. All elements returned by the function are extended with Prototype DOM extensions</p>
					</div>
					<pre class="body prettyprint">
function $(element) {
	if (arguments.length &gt; 1) {
		for (var i = 0, elements = [], length = arguments.length; i &lt; length; i++)
			elements.push($(arguments[i]));
		return elements;
	}
	if (Object.isString(element))
		element = document.getElementById(element);
	return Element.extend(element);
}</pre>
				</div>
				<div class="block function"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Function : </span><a href="" title="View the documentation for ">_getElementsByXPath</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
if (Prototype.BrowserFeatures.XPath) {
	document._getElementsByXPath = function(expression, parentElement) {
		var results = [];
		var query = document.evaluate(expression, $(parentElement) || document,
			null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
		for (var i = 0, length = query.snapshotLength; i &lt; length; i++)
			results.push(Element.extend(query.snapshotItem(i)));
		return results;
	};
}</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><strong>Node</strong></p>
						<p class="desc">DOM node constants</p>
					</div>
					<pre class="body prettyprint">
if (!window.Node) var Node = { };

if (!Node.ELEMENT_NODE) {
	Object.extend(Node, {
		ELEMENT_NODE: 1,
		ATTRIBUTE_NODE: 2,
		TEXT_NODE: 3,
		CDATA_SECTION_NODE: 4,
		ENTITY_REFERENCE_NODE: 5,
		ENTITY_NODE: 6,
		PROCESSING_INSTRUCTION_NODE: 7,
		COMMENT_NODE: 8,
		DOCUMENT_NODE: 9,
		DOCUMENT_TYPE_NODE: 10,
		DOCUMENT_FRAGMENT_NODE: 11,
		NOTATION_NODE: 12
	});
}</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/element" title="View the documentation for ">Element</a></p>
						<p class="desc">The Element object sports a flurry of powerful DOM methods which you can access either as methods of Element (but that’s rather old-fashioned now) or directly as methods of an extended element</p>
					</div>
					<pre class="body prettyprint">
(function(global) {

	var SETATTRIBUTE_IGNORES_NAME = (function(){
		var elForm = document.createElement(&quot;form&quot;);
		var elInput = document.createElement(&quot;input&quot;);
		var root = document.documentElement;
		elInput.setAttribute(&quot;name&quot;, &quot;test&quot;);
		elForm.appendChild(elInput);
		root.appendChild(elForm);
		var isBuggy = elForm.elements
			? (typeof elForm.elements.test == &quot;undefined&quot;)
			: null;
		root.removeChild(elForm);
		elForm = elInput = null;
		return isBuggy;
	})();

	var element = global.Element;
	global.Element = function(tagName, attributes) {
		attributes = attributes || { };
		tagName = tagName.toLowerCase();
		var cache = Element.cache;
		if (SETATTRIBUTE_IGNORES_NAME &amp;&amp; attributes.name) {
			tagName = '&lt;' + tagName + ' name=&quot;' + attributes.name + '&quot;&gt;';
			delete attributes.name;
			return Element.writeAttribute(document.createElement(tagName), attributes);
		}
		if (!cache[tagName]) cache[tagName] = Element.extend(document.createElement(tagName));
		return Element.writeAttribute(cache[tagName].cloneNode(false), attributes);
	};
	Object.extend(global.Element, element || { });
	if (element)global.Element.prototype = element.prototype;
})(this);</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Element.cache</strong> &amp; <strong>Element.idCounter</strong></p>
					</div>
					<pre class="body prettyprint">
Element.cache = { };
Element.idCounter = 1;</pre>
				</div>
				<div class="block object">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Element.methods</strong></p>
					</div>
					<pre class="body prettyprint">
Element.Methods = {</pre>
<div class="block function"> <a name="visible"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/visible" title="View the documentation for visible">visible</a></p>
<p class="desc">Returns a Boolean indicating whether or not element is visible (i.e. whether its inline style property is set to &quot;display: none;&quot;).</p>
</div>
<pre class="body prettyprint">
	visible: function(element) {
		return $(element).style.display != 'none';
	},</pre>
					</div>
<div class="block function"> <a name="toggle"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/toggle" title="View the documentation for toggle">toggle</a></p>
<p class="desc"> Toggles the visibility of element </p>
</div>
<pre class="body prettyprint">
	toggle: function(element) {
		element = $(element);
		Element[Element.visible(element) ? 'hide' : 'show'](element);
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="hide"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/hide" title="View the documentation for hide">hide</a></p>
<p class="desc"> Hides and returns element </p>
</div>
<pre class="body prettyprint">
	hide: function(element) {
		element = $(element);
		element.style.display = 'none';
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="show"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/show" title="View the documentation for show">show</a></p>
<p class="desc"> Displays and returns element </p>
</div>
<pre class="body prettyprint">
	show: function(element) {
		element = $(element);
		element.style.display = '';
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="remove"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/remove" title="View the documentation for remove">remove</a></p>
<p class="desc"> Completely removes element from the document and returns it </p>
</div>
<pre class="body prettyprint">
	remove: function(element) {
		element = $(element);
		element.parentNode.removeChild(element);
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="update"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/update" title="View the documentation for update">update</a></p>
<p class="desc"> Replaces the content of element with the provided newContent argument and returns element </p>
</div>
<pre class="body prettyprint">
	update: (function(){

		var SELECT_ELEMENT_INNERHTML_BUGGY = (function(){
			var el = document.createElement(&quot;select&quot;),
					isBuggy = true;
			el.innerHTML = &quot;&lt;option value=\&quot;test\&quot;&gt;test&lt;/option&gt;&quot;;
			if (el.options &amp;&amp; el.options[0]) {
				isBuggy = el.options[0].nodeName.toUpperCase() !== &quot;OPTION&quot;;
			}
			el = null;
			return isBuggy;
		})();

		var TABLE_ELEMENT_INNERHTML_BUGGY = (function(){
			try {
				var el = document.createElement(&quot;table&quot;);
				if (el &amp;&amp; el.tBodies) {
					el.innerHTML = &quot;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;test&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&quot;;
					var isBuggy = typeof el.tBodies[0] == &quot;undefined&quot;;
					el = null;
					return isBuggy;
				}
			} catch (e) {
				return true;
			}
		})();

		var SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING = (function () {
			var s = document.createElement(&quot;script&quot;),
					isBuggy = false;
			try {
				s.appendChild(document.createTextNode(&quot;&quot;));
				isBuggy = !s.firstChild ||
					s.firstChild &amp;&amp; s.firstChild.nodeType !== 3;
			} catch (e) {
				isBuggy = true;
			}
			s = null;
			return isBuggy;
		})();

		function update(element, content) {
			element = $(element);

			if (content &amp;&amp; content.toElement)
				content = content.toElement();

			if (Object.isElement(content))
				return element.update().insert(content);

			content = Object.toHTML(content);

			var tagName = element.tagName.toUpperCase();

			if (tagName === 'SCRIPT' &amp;&amp; SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING) {
				element.text = content;
				return element;
			}

			if (SELECT_ELEMENT_INNERHTML_BUGGY || TABLE_ELEMENT_INNERHTML_BUGGY) {
				if (tagName in Element._insertionTranslations.tags) {
					while (element.firstChild) {
						element.removeChild(element.firstChild);
					}
					Element._getContentFromAnonymousElement(tagName, content.stripScripts())
						.each(function(node) {
							element.appendChild(node)
						});
				}
				else {
					element.innerHTML = content.stripScripts();
				}
			}
			else {
				element.innerHTML = content.stripScripts();
			}

			content.evalScripts.bind(content).defer();
			return element;
		}

		return update;
	})(),</pre>
					</div>
<div class="block function"> <a name="replace"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/replace" title="View the documentation for replace">replace</a></p>
<p class="desc"> Replaces element by the content of the html argument and returns the removed element </p>
</div>
<pre class="body prettyprint">
	replace: function(element, content) {
		element = $(element);
		if (content &amp;&amp; content.toElement) content = content.toElement();
		else if (!Object.isElement(content)) {
			content = Object.toHTML(content);
			var range = element.ownerDocument.createRange();
			range.selectNode(element);
			content.evalScripts.bind(content).defer();
			content = range.createContextualFragment(content.stripScripts());
		}
		element.parentNode.replaceChild(content, element);
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="insert"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/insert" title="View the documentation for insert">insert</a></p>
<p class="desc"> Inserts content before, after, at the top of, or at the bottom of element, as specified by the position property of the second argument </p>
</div>
<pre class="body prettyprint">
	insert: function(element, insertions) {
		element = $(element);

		if (Object.isString(insertions) || Object.isNumber(insertions) ||
				Object.isElement(insertions) || (insertions &amp;&amp; (insertions.toElement || insertions.toHTML)))
					insertions = {bottom:insertions};

		var content, insert, tagName, childNodes;

		for (var position in insertions) {
			content  = insertions[position];
			position = position.toLowerCase();
			insert = Element._insertionTranslations[position];

			if (content &amp;&amp; content.toElement) content = content.toElement();
			if (Object.isElement(content)) {
				insert(element, content);
				continue;
			}

			content = Object.toHTML(content);

			tagName = ((position == 'before' || position == 'after')
				? element.parentNode : element).tagName.toUpperCase();

			childNodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts());

			if (position == 'top' || position == 'after') childNodes.reverse();
			childNodes.each(insert.curry(element));

			content.evalScripts.bind(content).defer();
		}

		return element;
	},</pre>
					</div>
<div class="block function"> <a name="wrap"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/wrap" title="View the documentation for wrap">wrap</a></p>
<p class="desc"> Wraps an element inside another, then returns the wrapper </p>
</div>
<pre class="body prettyprint">
	wrap: function(element, wrapper, attributes) {
		element = $(element);
		if (Object.isElement(wrapper))
			$(wrapper).writeAttribute(attributes || { });
		else if (Object.isString(wrapper)) wrapper = new Element(wrapper, attributes);
		else wrapper = new Element('div', wrapper);
		if (element.parentNode)
			element.parentNode.replaceChild(wrapper, element);
		wrapper.appendChild(element);
		return wrapper;
	},</pre>
					</div>
<div class="block function"> <a name="inspect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/inspect" title="View the documentation for inspect">inspect</a></p>
<p class="desc"> Returns the debug-oriented string representation of element </p>
</div>
<pre class="body prettyprint">
	inspect: function(element) {
		element = $(element);
		var result = '&lt;' + element.tagName.toLowerCase();
		$H({'id': 'id', 'className': 'class'}).each(function(pair) {
			var property = pair.first(), attribute = pair.last();
			var value = (element[property] || '').toString();
			if (value) result += ' ' + attribute + '=' + value.inspect(true);
		});
		return result + '&gt;';
	},</pre>
					</div>
<div class="block function"> <a name="recursivelyCollect"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/recursivelyCollect" title="View the documentation for recursivelyCollect">recursivelyCollect</a></p>
<p class="desc"> Recursively collects elements whose relationship is specified by property </p>
</div>
<pre class="body prettyprint">
	recursivelyCollect: function(element, property) {
		element = $(element);
		var elements = [];
		while (element = element[property])
			if (element.nodeType == 1)
				elements.push(Element.extend(element));
		return elements;
	},</pre>
					</div>
<div class="block function"> <a name="ancestors"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/ancestors" title="View the documentation for ancestors">ancestors</a></p>
<p class="desc"> Collects all of element’s ancestors and returns them as an array of extended elements </p>
</div>
<pre class="body prettyprint">
	ancestors: function(element) {
		return Element.recursivelyCollect(element, 'parentNode');
	},</pre>
					</div>
<div class="block function"> <a name="descendants"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/descendants" title="View the documentation for descendants">descendants</a></p>
<p class="desc"> Collects all of element’s descendants and returns them as an array of extended elements </p>
</div>
<pre class="body prettyprint">
	descendants: function(element) {
		return Element.select(element, &quot;*&quot;);
	},</pre>
					</div>
<div class="block function"> <a name="firstDescendant"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/firstDescendant" title="View the documentation for firstDescendant">firstDescendant</a></p>
<p class="desc"> Returns the first child that is an element </p>
</div>
<pre class="body prettyprint">
	firstDescendant: function(element) {
		element = $(element).firstChild;
		while (element &amp;&amp; element.nodeType != 1) element = element.nextSibling;
		return $(element);
	},</pre>
					</div>
<div class="block function"> <a name="immediateDescendants"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/immediateDescendants" title="View the documentation for immediateDescendants">immediateDescendants</a></p>
<p class="desc">Collects all of the element’s immediate descendants (i.e. children) and returns them as an array of extended elements</p>
</div>
<pre class="body prettyprint">
	immediateDescendants: function(element) {
		if (!(element = $(element).firstChild)) return [];
		while (element &amp;&amp; element.nodeType != 1) element = element.nextSibling;
		if (element) return [element].concat($(element).nextSiblings());
		return [];
	},</pre>
					</div>
<div class="block function"> <a name="previousSiblings"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/previousSiblings" title="View the documentation for previousSiblings">previousSiblings</a></p>
<p class="desc"> Collects all of element’s previous siblings and returns them as an array of extended elements </p>
</div>
<pre class="body prettyprint">
	previousSiblings: function(element) {
		return Element.recursivelyCollect(element, 'previousSibling');
	},</pre>
					</div>
<div class="block function"> <a name="nextSiblings"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/nextSiblings" title="View the documentation for nextSiblings">nextSiblings</a></p>
<p class="desc"> Collects all of element’s next siblings and returns them as an array of extended elements </p>
</div>
<pre class="body prettyprint">
	nextSiblings: function(element) {
		return Element.recursivelyCollect(element, 'nextSibling');
	},</pre>
					</div>
<div class="block function"> <a name="siblings"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/siblings" title="View the documentation for siblings">siblings</a></p>
<p class="desc"> Collects all of element’s siblings and returns them as an array of extended elements </p>
</div>
<pre class="body prettyprint">
	siblings: function(element) {
		element = $(element);
		return Element.previousSiblings(element).reverse()
			.concat(Element.nextSiblings(element));
	},</pre>
					</div>
<div class="block function"> <a name="match"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/match" title="View the documentation for match">match</a></p>
<p class="desc"> Checks if element matches the given CSS selector </p>
</div>
<pre class="body prettyprint">
	match: function(element, selector) {
		if (Object.isString(selector))
			selector = new Selector(selector);
		return selector.match($(element));
	},</pre>
					</div>
<div class="block function"> <a name="up"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/up" title="View the documentation for up">up</a></p>
<p class="desc"> Returns element’s first ancestor (or the index’th ancestor, if index is specified) that matches cssRule </p>
</div>
<pre class="body prettyprint">
	up: function(element, expression, index) {
		element = $(element);
		if (arguments.length == 1) return $(element.parentNode);
		var ancestors = Element.ancestors(element);
		return Object.isNumber(expression) ? ancestors[expression] :
			Selector.findElement(ancestors, expression, index);
	},</pre>
					</div>
<div class="block function"> <a name="down"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/down" title="View the documentation for down">down</a></p>
<p class="desc"> Returns element’s first descendant (or the n-th descendant if index is specified) that matches cssRule </p>
</div>
<pre class="body prettyprint">
	down: function(element, expression, index) {
		element = $(element);
		if (arguments.length == 1) return Element.firstDescendant(element);
		return Object.isNumber(expression) ? Element.descendants(element)[expression] :
			Element.select(element, expression)[index || 0];
	},</pre>
					</div>
<div class="block function"> <a name="previous"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/previous" title="View the documentation for previous">previous</a></p>
<p class="desc"> Returns element's previous sibling (or the index'th one, if index is specified) that matches cssRule </p>
</div>
<pre class="body prettyprint">
	previous: function(element, expression, index) {
		element = $(element);
		if (arguments.length == 1) return $(Selector.handlers.previousElementSibling(element));
		var previousSiblings = Element.previousSiblings(element);
		return Object.isNumber(expression) ? previousSiblings[expression] :
			Selector.findElement(previousSiblings, expression, index);
	},</pre>
					</div>
<div class="block function"> <a name="next"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/next" title="View the documentation for next">next</a></p>
<p class="desc"> Returns element’s following sibling (or the index’th one, if index is specified) that matches cssRule </p>
</div>
<pre class="body prettyprint">
	next: function(element, expression, index) {
		element = $(element);
		if (arguments.length == 1) return $(Selector.handlers.nextElementSibling(element));
		var nextSiblings = Element.nextSiblings(element);
		return Object.isNumber(expression) ? nextSiblings[expression] :
			Selector.findElement(nextSiblings, expression, index);
	},</pre>
					</div>
<div class="block function"> <a name="select"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/select" title="View the documentation for select">select</a></p>
<p class="desc"> Takes an arbitrary number of CSS selectors (strings) and returns an array of extended descendants of element that match any of them </p>
</div>
<pre class="body prettyprint">
	select: function(element) {
		var args = Array.prototype.slice.call(arguments, 1);
		return Selector.findChildElements(element, args);
	},</pre>
					</div>
<div class="block function"> <a name="adjacent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/adjacent" title="View the documentation for adjacent">adjacent</a></p>
<p class="desc"> Finds all siblings of the current element that match the given selector(s) </p>
</div>
<pre class="body prettyprint">
	adjacent: function(element) {
		var args = Array.prototype.slice.call(arguments, 1);
		return Selector.findChildElements(element.parentNode, args).without(element);
	},</pre>
					</div>
<div class="block function"> <a name="identify"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/identify" title="View the documentation for identify">identify</a></p>
<p class="desc"> returns element’s id attribute if it exists, or sets and returns a unique, auto-generated id </p>
</div>
<pre class="body prettyprint">
	identify: function(element) {
		element = $(element);
		var id = Element.readAttribute(element, 'id');
		if (id) return id;
		do { id = 'anonymous_element_' + Element.idCounter++ } while ($(id));
		Element.writeAttribute(element, 'id', id);
		return id;
	},</pre>
					</div>
<div class="block function"> <a name="readAttribute"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/readAttribute" title="View the documentation for readAttribute">readAttribute</a></p>
<p class="desc"> Returns the value of element's attribute or null if attribute has not been specified </p>
</div>
<pre class="body prettyprint">
	readAttribute: function(element, name) {
		element = $(element);
		if (Prototype.Browser.IE) {
			var t = Element._attributeTranslations.read;
			if (t.values[name]) return t.values[name](element, name);
			if (t.names[name]) name = t.names[name];
			if (name.include(':')) {
				return (!element.attributes || !element.attributes[name]) ? null :
 				element.attributes[name].value;
			}
		}
		return element.getAttribute(name);
	},</pre>
					</div>
<div class="block function"> <a name="writeAttribute"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/writeAttribute" title="View the documentation for writeAttribute">writeAttribute</a></p>
<p class="desc"> Adds, specifies or removes attributes passed as either a hash or a name/value pair </p>
</div>
<pre class="body prettyprint">
	writeAttribute: function(element, name, value) {
		element = $(element);
		var attributes = { }, t = Element._attributeTranslations.write;


		if (typeof name == 'object') attributes = name;
		else attributes[name] = Object.isUndefined(value) ? true : value;

		for (var attr in attributes) {
			name = t.names[attr] || attr;
			value = attributes[attr];
			if (t.values[attr]) name = t.values[attr](element, value);
			if (value === false || value === null)
				element.removeAttribute(name);
			else if (value === true)
				element.setAttribute(name, name);
			else element.setAttribute(name, value);
		}
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="getHeight"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getHeight" title="View the documentation for getHeight">getHeight</a></p>
<p class="desc"> Finds and returns the computed height of element </p>
</div>
<pre class="body prettyprint">
	getHeight: function(element) {
		return Element.getDimensions(element).height;
	},</pre>
					</div>
<div class="block function"> <a name="getWidth"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getWidth" title="View the documentation for getWidth">getWidth</a></p>
<p class="desc"> Finds and returns the computed width of element </p>
</div>
<pre class="body prettyprint">
	getWidth: function(element) {
		return Element.getDimensions(element).width;
	},</pre>
					</div>
<div class="block function"> <a name="classNames"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/classNames" title="View the documentation for classNames">classNames</a></p>
<p class="desc"> Returns a new instance of ClassNames, an Enumerable object used to read and write CSS class names of element </p>
</div>
<pre class="body prettyprint">
	classNames: function(element) {
		return new Element.ClassNames(element);
	},</pre>
					</div>
<div class="block function"> <a name="hasClassName"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/hasClassName" title="View the documentation for hasClassName">hasClassName</a></p>
<p class="desc"> Checks whether element has the given CSS className </p>
</div>
<pre class="body prettyprint">
	hasClassName: function(element, className) {
		if (!(element = $(element))) return;
		var elementClassName = element.className;
		return (elementClassName.length &gt; 0 &amp;&amp; (elementClassName == className ||
			new RegExp(&quot;(^|\\s)&quot; + className + &quot;(\\s|$)&quot;).test(elementClassName)));
	},</pre>
					</div>
<div class="block function"> <a name="addClassName"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/addClassName" title="View the documentation for addClassName">addClassName</a></p>
<p class="desc"> Adds a CSS class to element </p>
</div>
<pre class="body prettyprint">
	addClassName: function(element, className) {
		if (!(element = $(element))) return;
		if (!Element.hasClassName(element, className))
			element.className += (element.className ? ' ' : '') + className;
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="removeClassName"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/removeClassName" title="View the documentation for removeClassName">removeClassName</a></p>
<p class="desc"> Removes element’s CSS className and returns element </p>
</div>
<pre class="body prettyprint">
	removeClassName: function(element, className) {
		if (!(element = $(element))) return;
		element.className = element.className.replace(
			new RegExp(&quot;(^|\\s+)&quot; + className + &quot;(\\s+|$)&quot;), ' ').strip();
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="toggleClassName"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/toggleClassName" title="View the documentation for toggleClassName">toggleClassName</a></p>
<p class="desc"> Toggles element’s CSS className and returns element </p>
</div>
<pre class="body prettyprint">
	toggleClassName: function(element, className) {
		if (!(element = $(element))) return;
		return Element[Element.hasClassName(element, className) ?
			'removeClassName' : 'addClassName'](element, className);
	},</pre>
					</div>
<div class="block function"> <a name="cleanWhitespace"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/cleanWhitespace" title="View the documentation for cleanWhitespace">cleanWhitespace</a></p>
<p class="desc"> Removes all of element's text nodes which contain only whitespace </p>
</div>
<pre class="body prettyprint">
	cleanWhitespace: function(element) {
		element = $(element);
		var node = element.firstChild;
		while (node) {
			var nextNode = node.nextSibling;
			if (node.nodeType == 3 &amp;&amp; !/\S/.test(node.nodeValue))
				element.removeChild(node);
			node = nextNode;
		}
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="empty"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/empty" title="View the documentation for empty">empty</a></p>
<p class="desc">Tests whether element is empty (i.e. contains only whitespace)</p>
</div>
<pre class="body prettyprint">
	empty: function(element) {
		return $(element).innerHTML.blank();
	},</pre>
					</div>
<div class="block function"> <a name="descendantOf"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/descendantOf" title="View the documentation for descendantOf">descendantOf</a></p>
<p class="desc"> Checks if element is a descendant of ancestor</p>
</div>
<pre class="body prettyprint">
	descendantOf: function(element, ancestor) {
		element = $(element), ancestor = $(ancestor);

		if (element.compareDocumentPosition)
			return (element.compareDocumentPosition(ancestor) &amp; 8) === 8;

		if (ancestor.contains)
			return ancestor.contains(element) &amp;&amp; ancestor !== element;

		while (element = element.parentNode)
			if (element == ancestor) return true;

		return false;
	},</pre>
					</div>
<div class="block function"> <a name="scrollTo"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/scrollTo" title="View the documentation for scrollTo">scrollTo</a></p>
<p class="desc"> Scrolls the window so that element appears at the top of the viewport </p>
</div>
<pre class="body prettyprint">
	scrollTo: function(element) {
		element = $(element);
		var pos = Element.cumulativeOffset(element);
		window.scrollTo(pos[0], pos[1]);
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="getStyle"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getStyle" title="View the documentation for getStyle">getStyle</a></p>
<p class="desc"> Returns the given CSS property value of element </p>
</div>
<pre class="body prettyprint">
	getStyle: function(element, style) {
		element = $(element);
		style = style == 'float' ? 'cssFloat' : style.camelize();
		var value = element.style[style];
		if (!value || value == 'auto') {
			var css = document.defaultView.getComputedStyle(element, null);
			value = css ? css[style] : null;
		}
		if (style == 'opacity') return value ? parseFloat(value) : 1.0;
		return value == 'auto' ? null : value;
	},</pre>
					</div>
<div class="block function"> <a name="getOpacity"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getOpacity" title="View the documentation for getOpacity">getOpacity</a></p>
<p class="desc"> Gets the visual opacity of an element while working around inconsistencies in various browsers </p>
</div>
<pre class="body prettyprint">
	getOpacity: function(element) {
		return $(element).getStyle('opacity');
	},</pre>
					</div>
<div class="block function"> <a name="setStyle"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/setStyle" title="View the documentation for setStyle">setStyle</a></p>
<p class="desc"> Modifies element’s CSS style properties </p>
</div>

<pre class="body prettyprint">
	setStyle: function(element, styles) {
		element = $(element);
		var elementStyle = element.style, match;
		if (Object.isString(styles)) {
			element.style.cssText += ';' + styles;
			return styles.include('opacity') ?
				element.setOpacity(styles.match(/opacity:\s*(\d?\.?\d*)/)[1]) : element;
		}
		for (var property in styles)
			if (property == 'opacity') element.setOpacity(styles[property]);
			else
				elementStyle[(property == 'float' || property == 'cssFloat') ?
					(Object.isUndefined(elementStyle.styleFloat) ? 'cssFloat' : 'styleFloat') :
						property] = styles[property];

		return element;
	},</pre>
					</div>
<div class="block function"> <a name="setOpacity"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/setOpacity" title="View the documentation for setOpacity">setOpacity</a></p>
<p class="desc"> Sets the visual opacity of an element while working around inconsistencies in various browsers </p>
</div>
<pre class="body prettyprint">
	setOpacity: function(element, value) {
		element = $(element);
		element.style.opacity = (value == 1 || value === '') ? '' :
			(value &lt; 0.00001) ? 0 : value;
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="getDimensions"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getDimensions" title="View the documentation for getDimensions">getDimensions</a></p>
<p class="desc"> Finds the computed width and height of element and returns them as key/value pairs of an object </p>
</div>
<pre class="body prettyprint">
	getDimensions: function(element) {
		element = $(element);
		var display = Element.getStyle(element, 'display');
		if (display != 'none' &amp;&amp; display != null) // Safari bug
			return {width: element.offsetWidth, height: element.offsetHeight};

		var els = element.style;
		var originalVisibility = els.visibility;
		var originalPosition = els.position;
		var originalDisplay = els.display;
		els.visibility = 'hidden';
		if (originalPosition != 'fixed') // Switching fixed to absolute causes issues in Safari
			els.position = 'absolute';
		els.display = 'block';
		var originalWidth = element.clientWidth;
		var originalHeight = element.clientHeight;
		els.display = originalDisplay;
		els.position = originalPosition;
		els.visibility = originalVisibility;
		return {width: originalWidth, height: originalHeight};
	},</pre>
					</div>
<div class="block function"> <a name="makePositioned"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/makePositioned" title="View the documentation for makePositioned">makePositioned</a></p>
<p class="desc"> Allows for the easy creation of CSS containing block by setting element's CSS position to 'relative' if its initial position is either 'static' or undefined </p>
</div>
<pre class="body prettyprint">
	makePositioned: function(element) {
		element = $(element);
		var pos = Element.getStyle(element, 'position');
		if (pos == 'static' || !pos) {
			element._madePositioned = true;
			element.style.position = 'relative';
			if (Prototype.Browser.Opera) {
				element.style.top = 0;
				element.style.left = 0;
			}
		}
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="undoPositioned"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/undoPositioned" title="View the documentation for undoPositioned">undoPositioned</a></p>
<p class="desc"> Sets element back to the state it was before Element </p>
</div>
<pre class="body prettyprint">
	undoPositioned: function(element) {
		element = $(element);
		if (element._madePositioned) {
			element._madePositioned = undefined;
			element.style.position =
				element.style.top =
				element.style.left =
				element.style.bottom =
				element.style.right = '';
		}
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="makeClipping"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/makeClipping" title="View the documentation for makeClipping">makeClipping</a></p>
<p class="desc"> Simulates the poorly supported CSS clip property by setting element's overflow value to 'hidden' </p>
</div>
<pre class="body prettyprint">
	makeClipping: function(element) {
		element = $(element);
		if (element._overflow) return element;
		element._overflow = Element.getStyle(element, 'overflow') || 'auto';
		if (element._overflow !== 'hidden')
			element.style.overflow = 'hidden';
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="undoClipping"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/undoClipping" title="View the documentation for undoClipping">undoClipping</a></p>
<p class="desc"> Sets element’s CSS overflow property back to the value it had before Element </p>
</div>
<pre class="body prettyprint">
	undoClipping: function(element) {
		element = $(element);
		if (!element._overflow) return element;
		element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
		element._overflow = null;
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="cumulativeOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/cumulativeOffset" title="View the documentation for cumulativeOffset">cumulativeOffset</a></p>
<p class="desc"> Returns the offsets of element from the top left corner of the document </p>
</div>
<pre class="body prettyprint">
	cumulativeOffset: function(element) {
		var valueT = 0, valueL = 0;
		do {
			valueT += element.offsetTop  || 0;
			valueL += element.offsetLeft || 0;
			element = element.offsetParent;
		} while (element);
		return Element._returnOffset(valueL, valueT);
	},</pre>
					</div>
<div class="block function"> <a name="positionedOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/positionedOffset" title="View the documentation for positionedOffset">positionedOffset</a></p>
<p class="desc"> Returns element’s offset relative to its closest positioned ancestor (the element that would be returned by Element#getOffsetParent) </p>
</div>
<pre class="body prettyprint">
	positionedOffset: function(element) {
		var valueT = 0, valueL = 0;
		do {
			valueT += element.offsetTop  || 0;
			valueL += element.offsetLeft || 0;
			element = element.offsetParent;
			if (element) {
				if (element.tagName.toUpperCase() == 'BODY') break;
				var p = Element.getStyle(element, 'position');
				if (p !== 'static') break;
			}
		} while (element);
		return Element._returnOffset(valueL, valueT);
	},</pre>
					</div>
<div class="block function"> <a name="absolutize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/absolutize" title="View the documentation for absolutize">absolutize</a></p>
<p class="desc"> Turns element into an absolutely-positioned element without changing its position in the page layout </p>
</div>
<pre class="body prettyprint">
	absolutize: function(element) {
		element = $(element);
		if (Element.getStyle(element, 'position') == 'absolute') return element;

		var offsets = Element.positionedOffset(element);
		var top     = offsets[1];
		var left    = offsets[0];
		var width   = element.clientWidth;
		var height  = element.clientHeight;

		element._originalLeft   = left - parseFloat(element.style.left  || 0);
		element._originalTop    = top  - parseFloat(element.style.top || 0);
		element._originalWidth  = element.style.width;
		element._originalHeight = element.style.height;

		element.style.position = 'absolute';
		element.style.top    = top + 'px';
		element.style.left   = left + 'px';
		element.style.width  = width + 'px';
		element.style.height = height + 'px';
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="relativize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/relativize" title="View the documentation for relativize">relativize</a></p>
<p class="desc"> Turns element into an relatively-positioned element without changing its position in the page layout </p>
</div>
<pre class="body prettyprint">
	relativize: function(element) {
		element = $(element);
		if (Element.getStyle(element, 'position') == 'relative') return element;

		element.style.position = 'relative';
		var top  = parseFloat(element.style.top  || 0) - (element._originalTop || 0);
		var left = parseFloat(element.style.left || 0) - (element._originalLeft || 0);


		element.style.top    = top + 'px';
		element.style.left   = left + 'px';
		element.style.height = element._originalHeight;
		element.style.width  = element._originalWidth;
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="cumulativeScrollOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/cumulativeScrollOffset" title="View the documentation for cumulativeScrollOffset">cumulativeScrollOffset</a></p>
<p class="desc"> Calculates the cumulative scroll offset of an element in nested scrolling containers </p>
</div>
<pre class="body prettyprint">
	cumulativeScrollOffset: function(element) {
		var valueT = 0, valueL = 0;
		do {
			valueT += element.scrollTop  || 0;
			valueL += element.scrollLeft || 0;
			element = element.parentNode;
		} while (element);
		return Element._returnOffset(valueL, valueT);
	},</pre>
					</div>
<div class="block function"> <a name="getOffsetParent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/getOffsetParent" title="View the documentation for getOffsetParent">getOffsetParent</a></p>
<p class="desc"> Returns element’s closest positioned ancestor </p>
</div>
<pre class="body prettyprint">
	getOffsetParent: function(element) {
		if (element.offsetParent) return $(element.offsetParent);
		if (element == document.body) return $(element);

		while ((element = element.parentNode) &amp;&amp; element != document.body)
			if (Element.getStyle(element, 'position') != 'static')
				return $(element);

		return $(document.body);
	},</pre>
					</div>
<div class="block function"> <a name="viewportOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/viewportOffset" title="View the documentation for viewportOffset">viewportOffset</a></p>
<p class="desc"> Returns the X/Y coordinates of element relative to the viewport </p>
</div>
<pre class="body prettyprint">
	viewportOffset: function(forElement) {
		var valueT = 0, valueL = 0;

		var element = forElement;
		do {
			valueT += element.offsetTop  || 0;
			valueL += element.offsetLeft || 0;

			if (element.offsetParent == document.body &amp;&amp;
				Element.getStyle(element, 'position') == 'absolute') break;

		} while (element = element.offsetParent);

		element = forElement;
		do {
			if (!Prototype.Browser.Opera || (element.tagName &amp;&amp; (element.tagName.toUpperCase() == 'BODY'))) {
				valueT -= element.scrollTop  || 0;
				valueL -= element.scrollLeft || 0;
			}
		} while (element = element.parentNode);

		return Element._returnOffset(valueL, valueT);
	},</pre>
					</div>
<div class="block function"> <a name="clonePosition"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/clonePosition" title="View the documentation for clonePosition">clonePosition</a></p>
<p class="desc"> Clones the position and/or dimensions of source onto element as defined by the optional argument options </p>
</div>
<pre class="body prettyprint">
	clonePosition: function(element, source) {
		var options = Object.extend({
			setLeft:    true,
			setTop:     true,
			setWidth:   true,
			setHeight:  true,
			offsetTop:  0,
			offsetLeft: 0
		}, arguments[2] || { });

		source = $(source);
		var p = Element.viewportOffset(source);

		element = $(element);
		var delta = [0, 0];
		var parent = null;
		if (Element.getStyle(element, 'position') == 'absolute') {
			parent = Element.getOffsetParent(element);
			delta = Element.viewportOffset(parent);
		}

		if (parent == document.body) {
			delta[0] -= document.body.offsetLeft;
			delta[1] -= document.body.offsetTop;
		}

		if (options.setLeft)   element.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
		if (options.setTop)    element.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
		if (options.setWidth)  element.style.width = source.offsetWidth + 'px';
		if (options.setHeight) element.style.height = source.offsetHeight + 'px';
		return element;
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>

				<div class="block code">
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>Assign methods</strong></p>
					</div>
					<pre class="body prettyprint">
Object.extend(Element.Methods, {
	getElementsBySelector: Element.Methods.select,
	childElements: Element.Methods.immediateDescendants
});</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>_attributeTranslations</strong></p>
					</div>
					<pre class="body prettyprint">
Element._attributeTranslations = {
	write: {
		names: {
			className: 'class',
			htmlFor:   'for'
		},
		values: { }
	}
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>Opera-specific element code</strong></p>
					</div>
					<pre class="body prettyprint">
if (Prototype.Browser.Opera) {
	Element.Methods.getStyle = Element.Methods.getStyle.wrap(
		function(proceed, element, style) {
			switch (style) {
				case 'left': case 'top': case 'right': case 'bottom':
					if (proceed(element, 'position') === 'static') return null;
				case 'height': case 'width':
					if (!Element.visible(element)) return null;

					var dim = parseInt(proceed(element, style), 10);

					if (dim !== element['offset' + style.capitalize()])
						return dim + 'px';

					var properties;
					if (style === 'height') {
						properties = ['border-top-width', 'padding-top',
 						'padding-bottom', 'border-bottom-width'];
					}
					else {
						properties = ['border-left-width', 'padding-left',
 						'padding-right', 'border-right-width'];
					}
					return properties.inject(dim, function(memo, property) {
						var val = proceed(element, property);
						return val === null ? memo : memo - parseInt(val, 10);
					}) + 'px';
				default: return proceed(element, style);
			}
		}
	);

	Element.Methods.readAttribute = Element.Methods.readAttribute.wrap(
		function(proceed, element, attribute) {
			if (attribute === 'title') return element.title;
			return proceed(element, attribute);
		}
	);
}</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>IE-specific element code</strong></p>
					</div>
					<pre class="body prettyprint">
else if (Prototype.Browser.IE) {
	Element.Methods.getOffsetParent = Element.Methods.getOffsetParent.wrap(
		function(proceed, element) {
			element = $(element);
			try { element.offsetParent }
			catch(e) { return $(document.body) }
			var position = element.getStyle('position');
			if (position !== 'static') return proceed(element);
			element.setStyle({ position: 'relative' });
			var value = proceed(element);
			element.setStyle({ position: position });
			return value;
		}
	);

	$w('positionedOffset viewportOffset').each(function(method) {
		Element.Methods[method] = Element.Methods[method].wrap(
			function(proceed, element) {
				element = $(element);
				try { element.offsetParent }
				catch(e) { return Element._returnOffset(0,0) }
				var position = element.getStyle('position');
				if (position !== 'static') return proceed(element);
				var offsetParent = element.getOffsetParent();
				if (offsetParent &amp;&amp; offsetParent.getStyle('position') === 'fixed')
					offsetParent.setStyle({ zoom: 1 });
				element.setStyle({ position: 'relative' });
				var value = proceed(element);
				element.setStyle({ position: position });
				return value;
			}
		);
	});

	Element.Methods.cumulativeOffset = Element.Methods.cumulativeOffset.wrap(
		function(proceed, element) {
			try { element.offsetParent }
			catch(e) { return Element._returnOffset(0,0) }
			return proceed(element);
		}
	);

	Element.Methods.getStyle = function(element, style) {
		element = $(element);
		style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
		var value = element.style[style];
		if (!value &amp;&amp; element.currentStyle) value = element.currentStyle[style];

		if (style == 'opacity') {
			if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
				if (value[1]) return parseFloat(value[1]) / 100;
			return 1.0;
		}

		if (value == 'auto') {
			if ((style == 'width' || style == 'height') &amp;&amp; (element.getStyle('display') != 'none'))
				return element['offset' + style.capitalize()] + 'px';
			return null;
		}
		return value;
	};

	Element.Methods.setOpacity = function(element, value) {
		function stripAlpha(filter){
			return filter.replace(/alpha\([^\)]*\)/gi,'');
		}
		element = $(element);
		var currentStyle = element.currentStyle;
		if ((currentStyle &amp;&amp; !currentStyle.hasLayout) ||
			(!currentStyle &amp;&amp; element.style.zoom == 'normal'))
				element.style.zoom = 1;

		var filter = element.getStyle('filter'), style = element.style;
		if (value == 1 || value === '') {
			(filter = stripAlpha(filter)) ?
				style.filter = filter : style.removeAttribute('filter');
			return element;
		} else if (value &lt; 0.00001) value = 0;
		style.filter = stripAlpha(filter) +
			'alpha(opacity=' + (value * 100) + ')';
		return element;
	};

	Element._attributeTranslations = (function(){

		var classProp = 'className';
		var forProp = 'for';

		var el = document.createElement('div');

		el.setAttribute(classProp, 'x');

		if (el.className !== 'x') {
			el.setAttribute('class', 'x');
			if (el.className === 'x') {
				classProp = 'class';
			}
		}
		el = null;

		el = document.createElement('label');
		el.setAttribute(forProp, 'x');
		if (el.htmlFor !== 'x') {
			el.setAttribute('htmlFor', 'x');
			if (el.htmlFor === 'x') {
				forProp = 'htmlFor';
			}
		}
		el = null;

		return {
			read: {
				names: {
					'class':      classProp,
					'className':  classProp,
					'for':        forProp,
					'htmlFor':    forProp
				},
				values: {
					_getAttr: function(element, attribute) {
						return element.getAttribute(attribute);
					},
					_getAttr2: function(element, attribute) {
						return element.getAttribute(attribute, 2);
					},
					_getAttrNode: function(element, attribute) {
						var node = element.getAttributeNode(attribute);
						return node ? node.value : &quot;&quot;;
					},
					_getEv: (function(){

						var el = document.createElement('div');
						el.onclick = Prototype.emptyFunction;
						var value = el.getAttribute('onclick');
						var f;

						if (String(value).indexOf('{') &gt; -1) {
							f = function(element, attribute) {
								attribute = element.getAttribute(attribute);
								if (!attribute) return null;
								attribute = attribute.toString();
								attribute = attribute.split('{')[1];
								attribute = attribute.split('}')[0];
								return attribute.strip();
							};
						}
						else if (value === '') {
							f = function(element, attribute) {
								attribute = element.getAttribute(attribute);
								if (!attribute) return null;
								return attribute.strip();
							};
						}
						el = null;
						return f;
					})(),
					_flag: function(element, attribute) {
						return $(element).hasAttribute(attribute) ? attribute : null;
					},
					style: function(element) {
						return element.style.cssText.toLowerCase();
					},
					title: function(element) {
						return element.title;
					}
				}
			}
		}
	})();

	Element._attributeTranslations.write = {
		names: Object.extend({
			cellpadding: 'cellPadding',
			cellspacing: 'cellSpacing'
		}, Element._attributeTranslations.read.names),
		values: {
			checked: function(element, value) {
				element.checked = !!value;
			},

			style: function(element, value) {
				element.style.cssText = value ? value : '';
			}
		}
	};

	Element._attributeTranslations.has = {};

	$w('colSpan rowSpan vAlign dateTime accessKey tabIndex ' +
			'encType maxLength readOnly longDesc frameBorder').each(function(attr) {
		Element._attributeTranslations.write.names[attr.toLowerCase()] = attr;
		Element._attributeTranslations.has[attr.toLowerCase()] = attr;
	});

	(function(v) {
		Object.extend(v, {
			href:        v._getAttr2,
			src:         v._getAttr2,
			type:        v._getAttr,
			action:      v._getAttrNode,
			disabled:    v._flag,
			checked:     v._flag,
			readonly:    v._flag,
			multiple:    v._flag,
			onload:      v._getEv,
			onunload:    v._getEv,
			onclick:     v._getEv,
			ondblclick:  v._getEv,
			onmousedown: v._getEv,
			onmouseup:   v._getEv,
			onmouseover: v._getEv,
			onmousemove: v._getEv,
			onmouseout:  v._getEv,
			onfocus:     v._getEv,
			onblur:      v._getEv,
			onkeypress:  v._getEv,
			onkeydown:   v._getEv,
			onkeyup:     v._getEv,
			onsubmit:    v._getEv,
			onreset:     v._getEv,
			onselect:    v._getEv,
			onchange:    v._getEv
		});
	})(Element._attributeTranslations.read.values);

	if (Prototype.BrowserFeatures.ElementExtensions) {
		(function() {
			function _descendants(element) {
				var nodes = element.getElementsByTagName('*'), results = [];
				for (var i = 0, node; node = nodes[i]; i++)
					if (node.tagName !== &quot;!&quot;) // Filter out comment nodes.
						results.push(node);
				return results;
			}

			Element.Methods.down = function(element, expression, index) {
				element = $(element);
				if (arguments.length == 1) return element.firstDescendant();
				return Object.isNumber(expression) ? _descendants(element)[expression] :
					Element.select(element, expression)[index || 0];
			}
		})();
	}

}</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong> Geckospecific element code</strong></p>
					</div>
					<pre class="body prettyprint">
else if (Prototype.Browser.Gecko &amp;&amp; /rv:1\.8\.0/.test(navigator.userAgent)) {
	Element.Methods.setOpacity = function(element, value) {
		element = $(element);
		element.style.opacity = (value == 1) ? 0.999999 :
			(value === '') ? '' : (value &lt; 0.00001) ? 0 : value;
		return element;
	};
}</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>Webkit-specific element code</strong></p>
					</div>
					<pre class="body prettyprint">
else if (Prototype.Browser.WebKit) {
	Element.Methods.setOpacity = function(element, value) {
		element = $(element);
		element.style.opacity = (value == 1 || value === '') ? '' :
			(value &lt; 0.00001) ? 0 : value;

		if (value == 1)
			if(element.tagName.toUpperCase() == 'IMG' &amp;&amp; element.width) {
				element.width++; element.width--;
			} else try {
				var n = document.createTextNode(' ');
				element.appendChild(n);
				element.removeChild(n);
			} catch (e) { }

		return element;
	};

	Element.Methods.cumulativeOffset = function(element) {
		var valueT = 0, valueL = 0;
		do {
			valueT += element.offsetTop  || 0;
			valueL += element.offsetLeft || 0;
			if (element.offsetParent == document.body)
				if (Element.getStyle(element, 'position') == 'absolute') break;

			element = element.offsetParent;
		} while (element);

		return Element._returnOffset(valueL, valueT);
	};
}</pre>
				</div>
				<div class="block function"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><a href="http://www.prototypejs.org/api/element/replace">replace</a></p>
						<p class="desc"> Replaces element by the content of the html argument and returns the removed element </p>
					</div>
					<pre class="body prettyprint">
if ('outerHTML' in document.documentElement) {
	Element.Methods.replace = function(element, content) {
		element = $(element);

		if (content &amp;&amp; content.toElement) content = content.toElement();
		if (Object.isElement(content)) {
			element.parentNode.replaceChild(content, element);
			return element;
		}

		content = Object.toHTML(content);
		var parent = element.parentNode, tagName = parent.tagName.toUpperCase();

		if (Element._insertionTranslations.tags[tagName]) {
			var nextSibling = element.next();
			var fragments = Element._getContentFromAnonymousElement(tagName, content.stripScripts());
			parent.removeChild(element);
			if (nextSibling)
				fragments.each(function(node) { parent.insertBefore(node, nextSibling) });
			else
				fragments.each(function(node) { parent.appendChild(node) });
		}
		else element.outerHTML = content.stripScripts();

		content.evalScripts.bind(content).defer();
		return element;
	};
}</pre>
				</div>
<div class="block function"> <a name="Element._returnOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>Element._returnOffset</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
Element._returnOffset = function(l, t) {
	var result = [l, t];
	result.left = l;
	result.top = t;
	return result;
};</pre>
				</div>
<div class="block function"> <a name="Element._getContentFromAnonymousElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>Element._getContentFromAnonymousElement</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
Element._getContentFromAnonymousElement = function(tagName, html) {
	var div = new Element('div'), t = Element._insertionTranslations.tags[tagName];
	if (t) {
		div.innerHTML = t[0] + html + t[1];
		t[2].times(function() { div = div.firstChild });
	} else div.innerHTML = html;
	return $A(div.childNodes);
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><strong>_insertionTranslations</strong></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
Element._insertionTranslations = {
	before: function(element, node) {
		element.parentNode.insertBefore(node, element);
	},
	top: function(element, node) {
		element.insertBefore(node, element.firstChild);
	},
	bottom: function(element, node) {
		element.appendChild(node);
	},
	after: function(element, node) {
		element.parentNode.insertBefore(node, element.nextSibling);
	},
	tags: {
		TABLE:  ['&lt;table&gt;',                '&lt;/table&gt;',                   1],
		TBODY:  ['&lt;table&gt;&lt;tbody&gt;',         '&lt;/tbody&gt;&lt;/table&gt;',           2],
		TR:     ['&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;',     '&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;',      3],
		TD:     ['&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;', '&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;', 4],
		SELECT: ['&lt;select&gt;',               '&lt;/select&gt;',                  1]
	}
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
(function() {
	var tags = Element._insertionTranslations.tags;
	Object.extend(tags, {
		THEAD: tags.TBODY,
		TFOOT: tags.TBODY,
		TH:    tags.TD
	});
})();</pre>
				</div>
<div class="block function"> <a name="Element.Methods.Simulated"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>Element.Methods.Simulated</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
Element.Methods.Simulated = {
	hasAttribute: function(element, attribute) {
		attribute = Element._attributeTranslations.has[attribute] || attribute;
		var node = $(element).getAttributeNode(attribute);
		return !!(node &amp;&amp; node.specified);
	}
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><strong>Element.Methods.ByTag</strong></p>
						<p class="desc">Object</p>
					</div>
					<pre class="body prettyprint">
Element.Methods.ByTag = { };</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
Object.extend(Element, Element.Methods);</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
(function(div) {

	if (!Prototype.BrowserFeatures.ElementExtensions &amp;&amp; div['__proto__']) {
		window.HTMLElement = { };
		window.HTMLElement.prototype = div['__proto__'];
		Prototype.BrowserFeatures.ElementExtensions = true;
	}

	div = null;

})(document.createElement('div'))</pre>
				</div>
<div class="block function"> <a name="Element.extend"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/extend" title="View the documentation for Element.extend">Element.extend</a></p>
<p class="desc">Extends element with all of the methods contained in Element.Methods and Element.Methods.Simulated. If element is an input, textarea or select tag, it will also be extended with the methods from Form.Element.Methods. If it is a form tag, it will also be extended with Form.Methods</p>
</div>
<pre class="body prettyprint">
Element.extend = (function() {

	function checkDeficiency(tagName) {
		if (typeof window.Element != 'undefined') {
			var proto = window.Element.prototype;
			if (proto) {
				var id = '_' + (Math.random()+'').slice(2);
				var el = document.createElement(tagName);
				proto[id] = 'x';
				var isBuggy = (el[id] !== 'x');
				delete proto[id];
				el = null;
				return isBuggy;
			}
		}
		return false;
	}

	function extendElementWith(element, methods) {
		for (var property in methods) {
			var value = methods[property];
			if (Object.isFunction(value) &amp;&amp; !(property in element))
				element[property] = value.methodize();
		}
	}

	var HTMLOBJECTELEMENT_PROTOTYPE_BUGGY = checkDeficiency('object');

	if (Prototype.BrowserFeatures.SpecificElementExtensions) {
		if (HTMLOBJECTELEMENT_PROTOTYPE_BUGGY) {
			return function(element) {
				if (element &amp;&amp; typeof element._extendedByPrototype == 'undefined') {
					var t = element.tagName;
					if (t &amp;&amp; (/^(?:object|applet|embed)$/i.test(t))) {
						extendElementWith(element, Element.Methods);
						extendElementWith(element, Element.Methods.Simulated);
						extendElementWith(element, Element.Methods.ByTag[t.toUpperCase()]);
					}
				}
				return element;
			}
		}
		return Prototype.K;
	}

	var Methods = { }, ByTag = Element.Methods.ByTag;

	var extend = Object.extend(function(element) {
		if (!element || typeof element._extendedByPrototype != 'undefined' ||
				element.nodeType != 1 || element == window) return element;

		var methods = Object.clone(Methods),
				tagName = element.tagName.toUpperCase();

		if (ByTag[tagName]) Object.extend(methods, ByTag[tagName]);

		extendElementWith(element, methods);

		element._extendedByPrototype = Prototype.emptyFunction;
		return element;

	}, {
		refresh: function() {
			if (!Prototype.BrowserFeatures.ElementExtensions) {
				Object.extend(Methods, Element.Methods);
				Object.extend(Methods, Element.Methods.Simulated);
			}
		}
	});

	extend.refresh();
	return extend;
})();</pre>
				</div>
<div class="block function"> <a name="Element.hasAttribute"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>Element.hasAttribute</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
Element.hasAttribute = function(element, attribute) {
	if (element.hasAttribute) return element.hasAttribute(attribute);
	return Element.Methods.Simulated.hasAttribute(element, attribute);
};</pre>
				</div>
<div class="block function"> <a name="Element.addMethods"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/element/addMethods" title="View the documentation for Element.addMethods">Element.addMethods</a></p>
<p class="desc">Takes a hash of methods and makes them available as methods of extended elements and of the Element object. The second usage form is for targeting a specific HTML element</p>
</div>
<pre class="body prettyprint">
Element.addMethods = function(methods) {
	var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;

	if (!methods) {
		Object.extend(Form, Form.Methods);
		Object.extend(Form.Element, Form.Element.Methods);
		Object.extend(Element.Methods.ByTag, {
			&quot;FORM&quot;:     Object.clone(Form.Methods),
			&quot;INPUT&quot;:    Object.clone(Form.Element.Methods),
			&quot;SELECT&quot;:   Object.clone(Form.Element.Methods),
			&quot;TEXTAREA&quot;: Object.clone(Form.Element.Methods)
		});
	}

	if (arguments.length == 2) {
		var tagName = methods;
		methods = arguments[1];
	}

	if (!tagName) Object.extend(Element.Methods, methods || { });
	else {
		if (Object.isArray(tagName)) tagName.each(extend);
		else extend(tagName);
	}

	function extend(tagName) {
		tagName = tagName.toUpperCase();
		if (!Element.Methods.ByTag[tagName])
			Element.Methods.ByTag[tagName] = { };
		Object.extend(Element.Methods.ByTag[tagName], methods);
	}

	function copy(methods, destination, onlyIfAbsent) {
		onlyIfAbsent = onlyIfAbsent || false;
		for (var property in methods) {
			var value = methods[property];
			if (!Object.isFunction(value)) continue;
			if (!onlyIfAbsent || !(property in destination))
				destination[property] = value.methodize();
		}
	}

	function findDOMClass(tagName) {
		var klass;
		var trans = {
			&quot;OPTGROUP&quot;: &quot;OptGroup&quot;, &quot;TEXTAREA&quot;: &quot;TextArea&quot;, &quot;P&quot;: &quot;Paragraph&quot;,
			&quot;FIELDSET&quot;: &quot;FieldSet&quot;, &quot;UL&quot;: &quot;UList&quot;, &quot;OL&quot;: &quot;OList&quot;, &quot;DL&quot;: &quot;DList&quot;,
			&quot;DIR&quot;: &quot;Directory&quot;, &quot;H1&quot;: &quot;Heading&quot;, &quot;H2&quot;: &quot;Heading&quot;, &quot;H3&quot;: &quot;Heading&quot;,
			&quot;H4&quot;: &quot;Heading&quot;, &quot;H5&quot;: &quot;Heading&quot;, &quot;H6&quot;: &quot;Heading&quot;, &quot;Q&quot;: &quot;Quote&quot;,
			&quot;INS&quot;: &quot;Mod&quot;, &quot;DEL&quot;: &quot;Mod&quot;, &quot;A&quot;: &quot;Anchor&quot;, &quot;IMG&quot;: &quot;Image&quot;, &quot;CAPTION&quot;:
			&quot;TableCaption&quot;, &quot;COL&quot;: &quot;TableCol&quot;, &quot;COLGROUP&quot;: &quot;TableCol&quot;, &quot;THEAD&quot;:
			&quot;TableSection&quot;, &quot;TFOOT&quot;: &quot;TableSection&quot;, &quot;TBODY&quot;: &quot;TableSection&quot;, &quot;TR&quot;:
			&quot;TableRow&quot;, &quot;TH&quot;: &quot;TableCell&quot;, &quot;TD&quot;: &quot;TableCell&quot;, &quot;FRAMESET&quot;:
			&quot;FrameSet&quot;, &quot;IFRAME&quot;: &quot;IFrame&quot;
		};
		if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
		if (window[klass]) return window[klass];
		klass = 'HTML' + tagName + 'Element';
		if (window[klass]) return window[klass];
		klass = 'HTML' + tagName.capitalize() + 'Element';
		if (window[klass]) return window[klass];

		var element = document.createElement(tagName);
		var proto = element['__proto__'] || element.constructor.prototype;
		element = null;
		return proto;
	}

	var elementPrototype = window.HTMLElement ? HTMLElement.prototype :
 	Element.prototype;

	if (F.ElementExtensions) {
		copy(Element.Methods, elementPrototype);
		copy(Element.Methods.Simulated, elementPrototype, true);
	}

	if (F.SpecificElementExtensions) {
		for (var tag in Element.Methods.ByTag) {
			var klass = findDOMClass(tag);
			if (Object.isUndefined(klass)) continue;
			copy(T[tag], klass.prototype);
		}
	}

	Object.extend(Element, Element.Methods);
	delete Element.ByTag;

	if (Element.extend.refresh) Element.extend.refresh();
	Element.cache = { };
};</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>document.viewport</strong></p>
					</div>
					<pre class="body prettyprint">
document.viewport = {

	getDimensions: function() {
		return { width: this.getWidth(), height: this.getHeight() };
	},

	getScrollOffsets: function() {
		return Element._returnOffset(
			window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,
			window.pageYOffset || document.documentElement.scrollTop  || document.body.scrollTop);
	}
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
(function(viewport) {
	var B = Prototype.Browser, doc = document, element, property = {};

	function getRootElement() {
		if (B.WebKit &amp;&amp; !doc.evaluate)
			return document;

		if (B.Opera &amp;&amp; window.parseFloat(window.opera.version()) &lt; 9.5)
			return document.body;

		return document.documentElement;
	}

	function define(D) {
		if (!element) element = getRootElement();

		property[D] = 'client' + D;

		viewport['get' + D] = function() { return element[property[D]] };
		return viewport['get' + D]();
	}

	viewport.getWidth  = define.curry('Width');

	viewport.getHeight = define.curry('Height');
})(document.viewport);</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Element.Storage</strong></p>
					</div>
					<pre class="body prettyprint">
Element.Storage = {
	UID: 1
};</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
Element.addMethods({
	getStorage: function(element) {
		if (!(element = $(element))) return;

		var uid;
		if (element === window) {
			uid = 0;
		} else {
			if (typeof element._prototypeUID === &quot;undefined&quot;)
				element._prototypeUID = [Element.Storage.UID++];
			uid = element._prototypeUID[0];
		}

		if (!Element.Storage[uid])
			Element.Storage[uid] = $H();

		return Element.Storage[uid];
	},

	store: function(element, key, value) {
		if (!(element = $(element))) return;

		if (arguments.length === 2) {
			Element.getStorage(element).update(key);
		} else {
			Element.getStorage(element).set(key, value);
		}

		return element;
	},

	retrieve: function(element, key, defaultValue) {
		if (!(element = $(element))) return;
		var hash = Element.getStorage(element), value = hash.get(key);

		if (Object.isUndefined(value)) {
			hash.set(key, defaultValue);
			value = defaultValue;
		}

		return value;
	},

	clone: function(element, deep) {
		if (!(element = $(element))) return;
		var clone = element.cloneNode(deep);
		clone._prototypeUID = void 0;
		if (deep) {
			var descendants = Element.select(clone, '*'),
					i = descendants.length;
			while (i--) {
				descendants[i]._prototypeUID = void 0;
			}
		}
		return Element.extend(clone);
	}
});</pre>
				</div>
				<div class="block extend"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Class : </span><a href="http://api.prototypejs.org/dom/selector/" title="View the documentation for Selector">Selector</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body">

/* Portions of the Selector class are derived from Jack Slocum's DomQuery,
 * part of YUI-Ext version 0.40, distributed under the terms of an MIT-style
 * license.  Please see http://www.yui-ext.com/ for more information. */

var Selector = Class.create({
</pre>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
							<p class="desc">Constructor function</p>

						</div>
						<pre class="body prettyprint">

	initialize: function(expression) {
		this.expression = expression.strip();

		if (this.shouldUseSelectorsAPI()) {
			this.mode = 'selectorsAPI';
		} else if (this.shouldUseXPath()) {
			this.mode = 'xpath';
			this.compileXPathMatcher();
		} else {
			this.mode = &quot;normal&quot;;
			this.compileMatcher();
		}

	},
						</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>shouldUseXPath</strong></p>
						</div>
						<pre class="body prettyprint">
	shouldUseXPath: (function() {

		var IS_DESCENDANT_SELECTOR_BUGGY = (function(){
			var isBuggy = false;
			if (document.evaluate &amp;&amp; window.XPathResult) {
				var el = document.createElement('div');
				el.innerHTML = '&lt;ul&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;';

				var xpath = &quot;.//*[local-name()='ul' or local-name()='UL']&quot; +
					&quot;//*[local-name()='li' or local-name()='LI']&quot;;

				var result = document.evaluate(xpath, el, null,
					XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

				isBuggy = (result.snapshotLength !== 2);
				el = null;
			}
			return isBuggy;
		})();

		return function() {
			if (!Prototype.BrowserFeatures.XPath) return false;

			var e = this.expression;

			if (Prototype.Browser.WebKit &amp;&amp;
 			(e.include(&quot;-of-type&quot;) || e.include(&quot;:empty&quot;)))
				return false;

			if ((/(\[[\w-]*?:|:checked)/).test(e))
				return false;

			if (IS_DESCENDANT_SELECTOR_BUGGY) return false;

			return true;
		}

	})(),	</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>shouldUseSelectorsAPI</strong></p>
							<p class="desc">Internal function</p>
						</div>
						<pre class="body prettyprint">

	shouldUseSelectorsAPI: function() {
		if (!Prototype.BrowserFeatures.SelectorsAPI) return false;

		if (Selector.CASE_INSENSITIVE_CLASS_NAMES) return false;

		if (!Selector._div) Selector._div = new Element('div');

		try {
			Selector._div.querySelector(this.expression);
		} catch(e) {
			return false;
		}

		return true;
	},
						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>compileMatcher</strong></p>
							<p class="desc">Internal function</p>
						</div>
						<pre class="body prettyprint">

	compileMatcher: function() {
		var e = this.expression, ps = Selector.patterns, h = Selector.handlers,
				c = Selector.criteria, le, p, m, len = ps.length, name;

		if (Selector._cache[e]) {
			this.matcher = Selector._cache[e];
			return;
		}

		this.matcher = [&quot;this.matcher = function(root) {&quot;,
  									&quot;var r = root, h = Selector.handlers, c = false, n;&quot;];

		while (e &amp;&amp; le != e &amp;&amp; (/\S/).test(e)) {
			le = e;
			for (var i = 0; i&lt;len; i++) {
				p = ps[i].re;
				name = ps[i].name;
				if (m = e.match(p)) {
					this.matcher.push(Object.isFunction(c[name]) ? c[name](m) :
						new Template(c[name]).evaluate(m));
					e = e.replace(m[0], '');
					break;
				}
			}
		}

		this.matcher.push(&quot;return h.unique(n);\n}&quot;);
		eval(this.matcher.join('\n'));
		Selector._cache[this.expression] = this.matcher;
	},
						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>compileXPathMatcher</strong></p>
							<p class="desc">Internal function</p>
						</div>
						<pre class="body prettyprint">

	compileXPathMatcher: function() {
		var e = this.expression, ps = Selector.patterns,
				x = Selector.xpath, le, m, len = ps.length, name;

		if (Selector._cache[e]) {
			this.xpath = Selector._cache[e]; return;
		}

		this.matcher = ['.//*'];
		while (e &amp;&amp; le != e &amp;&amp; (/\S/).test(e)) {
			le = e;
			for (var i = 0; i&lt;len; i++) {
				name = ps[i].name;
				if (m = e.match(ps[i].re)) {
					this.matcher.push(Object.isFunction(x[name]) ? x[name](m) :
						new Template(x[name]).evaluate(m));
					e = e.replace(m[0], '');
					break;
				}
			}
		}

		this.xpath = this.matcher.join('');
		Selector._cache[this.expression] = this.xpath;
	},
						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><a href="http://api.prototypejs.org/dom/selector/prototype/findelements/" title="View the documentation for ">findElements</a></p>
							<p class="desc">Searches the document for elements that match the instance's CSS selector.</p>
						</div>
						<pre class="body prettyprint">

	findElements: function(root) {
		root = root || document;
		var e = this.expression, results;

		switch (this.mode) {
			case 'selectorsAPI':
				if (root !== document) {
					var oldId = root.id, id = $(root).identify();
					id = id.replace(/([\.:])/g, &quot;\\$1&quot;);
					e = &quot;#&quot; + id + &quot; &quot; + e;
				}

				results = $A(root.querySelectorAll(e)).map(Element.extend);
				root.id = oldId;

				return results;
			case 'xpath':
				return document._getElementsByXPath(this.xpath, root);
			default:
 			return this.matcher(root);
		}
	},
						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><a href="http://api.prototypejs.org/dom/selector/prototype/match/" title="View the documentation for ">match</a></p>
							<p class="desc">Tests whether a element matches the instance's CSS selector.</p>
						</div>
						<pre class="body prettyprint">

	match: function(element) {
		this.tokens = [];

		var e = this.expression, ps = Selector.patterns, as = Selector.assertions;
		var le, p, m, len = ps.length, name;

		while (e &amp;&amp; le !== e &amp;&amp; (/\S/).test(e)) {
			le = e;
			for (var i = 0; i&lt;len; i++) {
				p = ps[i].re;
				name = ps[i].name;
				if (m = e.match(p)) {
					if (as[name]) {
						this.tokens.push([name, Object.clone(m)]);
						e = e.replace(m[0], '');
					} else {
						return this.findElements(document).include(element);
					}
				}
			}
		}

		var match = true, name, matches;
		for (var i = 0, token; token = this.tokens[i]; i++) {
			name = token[0], matches = token[1];
			if (!Selector.assertions[name](element, matches)) {
				match = false; break;
			}
		}

		return match;
	},

						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>toString</strong></p>
							<p class="desc">Returns the selector expression</p>
						</div>
						<pre class="body prettyprint">

	toString: function() {
		return this.expression;
	},
						</pre>
					</div>
					<div class="block function"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Function : </span><strong>inspect</strong></p>
							<p class="desc">Returns a debug-oriented output</p>
						</div>
						<pre class="body prettyprint">

	inspect: function() {
		return &quot;#&lt;Selector:&quot; + this.expression.inspect() + &quot;&gt;&quot;;
	}
						</pre>
					</div>
					<pre class="body">
});</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
if (Prototype.BrowserFeatures.SelectorsAPI &amp;&amp;
 document.compatMode === 'BackCompat') {
	Selector.CASE_INSENSITIVE_CLASS_NAMES = (function(){
		var div = document.createElement('div'),
 		span = document.createElement('span');

		div.id = &quot;prototype_test_id&quot;;
		span.className = 'Test';
		div.appendChild(span);
		var isIgnored = (div.querySelector('#prototype_test_id .test') !== null);
		div = span = null;
		return isIgnored;
	})();
}</pre>
				</div>
<div class="block extend"> <a name="Selector"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://api.prototypejs.org/dom/selector/" title="View the documentation for Selector">Selector</a></p>
<p class="desc"> A class that queries the document for elements that match a given CSS selector. </p>
</div>
<pre class="body">
Object.extend(Selector, {</pre><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>_cache</strong></p>
</div>
<pre class="body prettyprint">
	_cache: { },</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">xpath</a></p>
						</div>
						<pre class="body prettyprint">
	xpath: {
		descendant:   &quot;//*&quot;,
		child:        &quot;/*&quot;,
		adjacent:     &quot;/following-sibling::*[1]&quot;,
		laterSibling: '/following-sibling::*',
		tagName:      function(m) {
			if (m[1] == '*') return '';
			return &quot;[local-name()='&quot; + m[1].toLowerCase() +
 						&quot;' or local-name()='&quot; + m[1].toUpperCase() + &quot;']&quot;;
		},
		className:    &quot;[contains(concat(' ', @class, ' '), ' #{1} ')]&quot;,
		id:           &quot;[@id='#{1}']&quot;,
		attrPresence: function(m) {
			m[1] = m[1].toLowerCase();
			return new Template(&quot;[@#{1}]&quot;).evaluate(m);
		},
		attr: function(m) {
			m[1] = m[1].toLowerCase();
			m[3] = m[5] || m[6];
			return new Template(Selector.xpath.operators[m[2]]).evaluate(m);
		},
		pseudo: function(m) {
			var h = Selector.xpath.pseudos[m[1]];
			if (!h) return '';
			if (Object.isFunction(h)) return h(m);
			return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m);
		},
		operators: {
			'=':  &quot;[@#{1}='#{3}']&quot;,
			'!=': &quot;[@#{1}!='#{3}']&quot;,
			'^=': &quot;[starts-with(@#{1}, '#{3}')]&quot;,
			'$=': &quot;[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']&quot;,
			'*=': &quot;[contains(@#{1}, '#{3}')]&quot;,
			'~=': &quot;[contains(concat(' ', @#{1}, ' '), ' #{3} ')]&quot;,
			'|=': &quot;[contains(concat('-', @#{1}, '-'), '-#{3}-')]&quot;
		},
		pseudos: {
			'first-child': '[not(preceding-sibling::*)]',
			'last-child':  '[not(following-sibling::*)]',
			'only-child':  '[not(preceding-sibling::* or following-sibling::*)]',
			'empty':       &quot;[count(*) = 0 and (count(text()) = 0)]&quot;,
			'checked':     &quot;[@checked]&quot;,
			'disabled':    &quot;[(@disabled) and (@type!='hidden')]&quot;,
			'enabled':     &quot;[not(@disabled) and (@type!='hidden')]&quot;,
			'not': function(m) {
				var e = m[6], p = Selector.patterns,
						x = Selector.xpath, le, v, len = p.length, name;

				var exclusion = [];
				while (e &amp;&amp; le != e &amp;&amp; (/\S/).test(e)) {
					le = e;
					for (var i = 0; i&lt;len; i++) {
						name = p[i].name
						if (m = e.match(p[i].re)) {
							v = Object.isFunction(x[name]) ? x[name](m) : new Template(x[name]).evaluate(m);
							exclusion.push(&quot;(&quot; + v.substring(1, v.length - 1) + &quot;)&quot;);
							e = e.replace(m[0], '');
							break;
						}
					}
				}
				return &quot;[not(&quot; + exclusion.join(&quot; and &quot;) + &quot;)]&quot;;
			},
			'nth-child':      function(m) {
				return Selector.xpath.pseudos.nth(&quot;(count(./preceding-sibling::*) + 1) &quot;, m);
			},
			'nth-last-child': function(m) {
				return Selector.xpath.pseudos.nth(&quot;(count(./following-sibling::*) + 1) &quot;, m);
			},
			'nth-of-type':    function(m) {
				return Selector.xpath.pseudos.nth(&quot;position() &quot;, m);
			},
			'nth-last-of-type': function(m) {
				return Selector.xpath.pseudos.nth(&quot;(last() + 1 - position()) &quot;, m);
			},
			'first-of-type':  function(m) {
				m[6] = &quot;1&quot;; return Selector.xpath.pseudos['nth-of-type'](m);
			},
			'last-of-type':   function(m) {
				m[6] = &quot;1&quot;; return Selector.xpath.pseudos['nth-last-of-type'](m);
			},
			'only-of-type':   function(m) {
				var p = Selector.xpath.pseudos; return p['first-of-type'](m) + p['last-of-type'](m);
			},
			nth: function(fragment, m) {
				var mm, formula = m[6], predicate;
				if (formula == 'even') formula = '2n+0';
				if (formula == 'odd')  formula = '2n+1';
				if (mm = formula.match(/^(\d+)$/)) // digit only
					return '[' + fragment + &quot;= &quot; + mm[1] + ']';
				if (mm = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
					if (mm[1] == &quot;-&quot;) mm[1] = -1;
					var a = mm[1] ? Number(mm[1]) : 1;
					var b = mm[2] ? Number(mm[2]) : 0;
					predicate = &quot;[((#{fragment} - #{b}) mod #{a} = 0) and &quot; +
					&quot;((#{fragment} - #{b}) div #{a} &gt;= 0)]&quot;;
					return new Template(predicate).evaluate({
						fragment: fragment, a: a, b: b });
				}
			}
		}
	},</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">criteria</a></p>
						</div>
						<pre class="body prettyprint">
	criteria: {
		tagName:      'n = h.tagName(n, r, &quot;#{1}&quot;, c);      c = false;',
		className:    'n = h.className(n, r, &quot;#{1}&quot;, c);    c = false;',
		id:           'n = h.id(n, r, &quot;#{1}&quot;, c);           c = false;',
		attrPresence: 'n = h.attrPresence(n, r, &quot;#{1}&quot;, c); c = false;',
		attr: function(m) {
			m[3] = (m[5] || m[6]);
			return new Template('n = h.attr(n, r, &quot;#{1}&quot;, &quot;#{3}&quot;, &quot;#{2}&quot;, c); c = false;').evaluate(m);
		},
		pseudo: function(m) {
			if (m[6]) m[6] = m[6].replace(/&quot;/g, '\\&quot;');
			return new Template('n = h.pseudo(n, &quot;#{1}&quot;, &quot;#{6}&quot;, r, c); c = false;').evaluate(m);
		},
		descendant:   'c = &quot;descendant&quot;;',
		child:        'c = &quot;child&quot;;',
		adjacent:     'c = &quot;adjacent&quot;;',
		laterSibling: 'c = &quot;laterSibling&quot;;'
	},</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">patterns</a></p>
						</div>
						<pre class="body prettyprint">
	patterns: [
		{ name: 'laterSibling', re: /^\s*~\s*/ },
		{ name: 'child',        re: /^\s*&gt;\s*/ },
		{ name: 'adjacent',     re: /^\s*\+\s*/ },
		{ name: 'descendant',   re: /^\s/ },

		{ name: 'tagName',      re: /^\s*(\*|[\w\-]+)(\b|$)?/ },
		{ name: 'id',           re: /^#([\w\-\*]+)(\b|$)/ },
		{ name: 'className',    re: /^\.([\w\-\*]+)(\b|$)/ },
		{ name: 'pseudo',       re: /^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|(?=\s|[:+~&gt;]))/ },
		{ name: 'attrPresence', re: /^\[((?:[\w-]+:)?[\w-]+)\]/ },
		{ name: 'attr',         re: /\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['&quot;])([^\4]*?)\4|([^'&quot;][^\]]*?)))?\]/ }
	],</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">assertions</a></p>
						</div>
						<pre class="body prettyprint">
	assertions: {
		tagName: function(element, matches) {
			return matches[1].toUpperCase() == element.tagName.toUpperCase();
		},

		className: function(element, matches) {
			return Element.hasClassName(element, matches[1]);
		},

		id: function(element, matches) {
			return element.id === matches[1];
		},

		attrPresence: function(element, matches) {
			return Element.hasAttribute(element, matches[1]);
		},

		attr: function(element, matches) {
			var nodeValue = Element.readAttribute(element, matches[1]);
			return nodeValue &amp;&amp; Selector.operators[matches[2]](nodeValue, matches[5] || matches[6]);
		}
	},</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">handlers</a></p>
						</div>
						<pre class="body prettyprint">
	handlers: {
		concat: function(a, b) {
			for (var i = 0, node; node = b[i]; i++)
				a.push(node);
			return a;
		},

		mark: function(nodes) {
			var _true = Prototype.emptyFunction;
			for (var i = 0, node; node = nodes[i]; i++)
				node._countedByPrototype = _true;
			return nodes;
		},

		unmark: (function(){

			var PROPERTIES_ATTRIBUTES_MAP = (function(){
				var el = document.createElement('div'),
						isBuggy = false,
						propName = '_countedByPrototype',
						value = 'x'
				el[propName] = value;
				isBuggy = (el.getAttribute(propName) === value);
				el = null;
				return isBuggy;
			})();

			return PROPERTIES_ATTRIBUTES_MAP ?
				function(nodes) {
					for (var i = 0, node; node = nodes[i]; i++)
						node.removeAttribute('_countedByPrototype');
					return nodes;
				} :
				function(nodes) {
					for (var i = 0, node; node = nodes[i]; i++)
						node._countedByPrototype = void 0;
					return nodes;
				}
		})(),

		index: function(parentNode, reverse, ofType) {
			parentNode._countedByPrototype = Prototype.emptyFunction;
			if (reverse) {
				for (var nodes = parentNode.childNodes, i = nodes.length - 1, j = 1; i &gt;= 0; i--) {
					var node = nodes[i];
					if (node.nodeType == 1 &amp;&amp; (!ofType || node._countedByPrototype)) node.nodeIndex = j++;
				}
			} else {
				for (var i = 0, j = 1, nodes = parentNode.childNodes; node = nodes[i]; i++)
					if (node.nodeType == 1 &amp;&amp; (!ofType || node._countedByPrototype)) node.nodeIndex = j++;
			}
		},

		unique: function(nodes) {
			if (nodes.length == 0) return nodes;
			var results = [], n;
			for (var i = 0, l = nodes.length; i &lt; l; i++)
				if (typeof (n = nodes[i])._countedByPrototype == 'undefined') {
					n._countedByPrototype = Prototype.emptyFunction;
					results.push(Element.extend(n));
				}
			return Selector.handlers.unmark(results);
		},

		descendant: function(nodes) {
			var h = Selector.handlers;
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				h.concat(results, node.getElementsByTagName('*'));
			return results;
		},

		child: function(nodes) {
			var h = Selector.handlers;
			for (var i = 0, results = [], node; node = nodes[i]; i++) {
				for (var j = 0, child; child = node.childNodes[j]; j++)
					if (child.nodeType == 1 &amp;&amp; child.tagName != '!') results.push(child);
			}
			return results;
		},

		adjacent: function(nodes) {
			for (var i = 0, results = [], node; node = nodes[i]; i++) {
				var next = this.nextElementSibling(node);
				if (next) results.push(next);
			}
			return results;
		},

		laterSibling: function(nodes) {
			var h = Selector.handlers;
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				h.concat(results, Element.nextSiblings(node));
			return results;
		},

		nextElementSibling: function(node) {
			while (node = node.nextSibling)
				if (node.nodeType == 1) return node;
			return null;
		},

		previousElementSibling: function(node) {
			while (node = node.previousSibling)
				if (node.nodeType == 1) return node;
			return null;
		},

		tagName: function(nodes, root, tagName, combinator) {
			var uTagName = tagName.toUpperCase();
			var results = [], h = Selector.handlers;
			if (nodes) {
				if (combinator) {
					if (combinator == &quot;descendant&quot;) {
						for (var i = 0, node; node = nodes[i]; i++)
							h.concat(results, node.getElementsByTagName(tagName));
						return results;
					} else nodes = this[combinator](nodes);
					if (tagName == &quot;*&quot;) return nodes;
				}
				for (var i = 0, node; node = nodes[i]; i++)
					if (node.tagName.toUpperCase() === uTagName) results.push(node);
				return results;
			} else return root.getElementsByTagName(tagName);
		},

		id: function(nodes, root, id, combinator) {
			var targetNode = $(id), h = Selector.handlers;

			if (root == document) {
				if (!targetNode) return [];
				if (!nodes) return [targetNode];
			} else {
				if (!root.sourceIndex || root.sourceIndex &lt; 1) {
					var nodes = root.getElementsByTagName('*');
					for (var j = 0, node; node = nodes[j]; j++) {
						if (node.id === id) return [node];
					}
				}
			}

			if (nodes) {
				if (combinator) {
					if (combinator == 'child') {
						for (var i = 0, node; node = nodes[i]; i++)
							if (targetNode.parentNode == node) return [targetNode];
					} else if (combinator == 'descendant') {
						for (var i = 0, node; node = nodes[i]; i++)
							if (Element.descendantOf(targetNode, node)) return [targetNode];
					} else if (combinator == 'adjacent') {
						for (var i = 0, node; node = nodes[i]; i++)
							if (Selector.handlers.previousElementSibling(targetNode) == node)
								return [targetNode];
					} else nodes = h[combinator](nodes);
				}
				for (var i = 0, node; node = nodes[i]; i++)
					if (node == targetNode) return [targetNode];
				return [];
			}
			return (targetNode &amp;&amp; Element.descendantOf(targetNode, root)) ? [targetNode] : [];
		},

		className: function(nodes, root, className, combinator) {
			if (nodes &amp;&amp; combinator) nodes = this[combinator](nodes);
			return Selector.handlers.byClassName(nodes, root, className);
		},

		byClassName: function(nodes, root, className) {
			if (!nodes) nodes = Selector.handlers.descendant([root]);
			var needle = ' ' + className + ' ';
			for (var i = 0, results = [], node, nodeClassName; node = nodes[i]; i++) {
				nodeClassName = node.className;
				if (nodeClassName.length == 0) continue;
				if (nodeClassName == className || (' ' + nodeClassName + ' ').include(needle))
					results.push(node);
			}
			return results;
		},

		attrPresence: function(nodes, root, attr, combinator) {
			if (!nodes) nodes = root.getElementsByTagName(&quot;*&quot;);
			if (nodes &amp;&amp; combinator) nodes = this[combinator](nodes);
			var results = [];
			for (var i = 0, node; node = nodes[i]; i++)
				if (Element.hasAttribute(node, attr)) results.push(node);
			return results;
		},

		attr: function(nodes, root, attr, value, operator, combinator) {
			if (!nodes) nodes = root.getElementsByTagName(&quot;*&quot;);
			if (nodes &amp;&amp; combinator) nodes = this[combinator](nodes);
			var handler = Selector.operators[operator], results = [];
			for (var i = 0, node; node = nodes[i]; i++) {
				var nodeValue = Element.readAttribute(node, attr);
				if (nodeValue === null) continue;
				if (handler(nodeValue, value)) results.push(node);
			}
			return results;
		},

		pseudo: function(nodes, name, value, root, combinator) {
			if (nodes &amp;&amp; combinator) nodes = this[combinator](nodes);
			if (!nodes) nodes = root.getElementsByTagName(&quot;*&quot;);
			return Selector.pseudos[name](nodes, value, root);
		}
	},</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">pseudos</a></p>
						</div>
						<pre class="body prettyprint">
	pseudos: {
		'first-child': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++) {
				if (Selector.handlers.previousElementSibling(node)) continue;
					results.push(node);
			}
			return results;
		},
		'last-child': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++) {
				if (Selector.handlers.nextElementSibling(node)) continue;
					results.push(node);
			}
			return results;
		},
		'only-child': function(nodes, value, root) {
			var h = Selector.handlers;
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				if (!h.previousElementSibling(node) &amp;&amp; !h.nextElementSibling(node))
					results.push(node);
			return results;
		},
		'nth-child':        function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, formula, root);
		},
		'nth-last-child':   function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, formula, root, true);
		},
		'nth-of-type':      function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, formula, root, false, true);
		},
		'nth-last-of-type': function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, formula, root, true, true);
		},
		'first-of-type':    function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, &quot;1&quot;, root, false, true);
		},
		'last-of-type':     function(nodes, formula, root) {
			return Selector.pseudos.nth(nodes, &quot;1&quot;, root, true, true);
		},
		'only-of-type':     function(nodes, formula, root) {
			var p = Selector.pseudos;
			return p['last-of-type'](p['first-of-type'](nodes, formula, root), formula, root);
		},

		getIndices: function(a, b, total) {
			if (a == 0) return b &gt; 0 ? [b] : [];
			return $R(1, total).inject([], function(memo, i) {
				if (0 == (i - b) % a &amp;&amp; (i - b) / a &gt;= 0) memo.push(i);
				return memo;
			});
		},

		nth: function(nodes, formula, root, reverse, ofType) {
			if (nodes.length == 0) return [];
			if (formula == 'even') formula = '2n+0';
			if (formula == 'odd')  formula = '2n+1';
			var h = Selector.handlers, results = [], indexed = [], m;
			h.mark(nodes);
			for (var i = 0, node; node = nodes[i]; i++) {
				if (!node.parentNode._countedByPrototype) {
					h.index(node.parentNode, reverse, ofType);
					indexed.push(node.parentNode);
				}
			}
			if (formula.match(/^\d+$/)) { // just a number
				formula = Number(formula);
				for (var i = 0, node; node = nodes[i]; i++)
					if (node.nodeIndex == formula) results.push(node);
			} else if (m = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
				if (m[1] == &quot;-&quot;) m[1] = -1;
				var a = m[1] ? Number(m[1]) : 1;
				var b = m[2] ? Number(m[2]) : 0;
				var indices = Selector.pseudos.getIndices(a, b, nodes.length);
				for (var i = 0, node, l = indices.length; node = nodes[i]; i++) {
					for (var j = 0; j &lt; l; j++)
						if (node.nodeIndex == indices[j]) results.push(node);
				}
			}
			h.unmark(nodes);
			h.unmark(indexed);
			return results;
		},

		'empty': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++) {
				if (node.tagName == '!' || node.firstChild) continue;

				results.push(node);
			}
			return results;
		},

		'not': function(nodes, selector, root) {
			var h = Selector.handlers, selectorType, m;
			var exclusions = new Selector(selector).findElements(root);
			h.mark(exclusions);
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				if (!node._countedByPrototype) results.push(node);
			h.unmark(exclusions);
			return results;
		},

		'enabled': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				if (!node.disabled &amp;&amp; (!node.type || node.type !== 'hidden'))
					results.push(node);
			return results;
		},

		'disabled': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				if (node.disabled) results.push(node);
			return results;
		},

		'checked': function(nodes, value, root) {
			for (var i = 0, results = [], node; node = nodes[i]; i++)
				if (node.checked) results.push(node);
			return results;
		}
	},</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="" title="View the documentation for ">operators</a></p>
						</div>
						<pre class="body prettyprint">
	operators: {
		'=':  function(nv, v) { return nv == v; },
		'!=': function(nv, v) { return nv != v; },
		'^=': function(nv, v) { return nv == v || nv &amp;&amp; nv.startsWith(v); },
		'$=': function(nv, v) { return nv == v || nv &amp;&amp; nv.endsWith(v); },
		'*=': function(nv, v) { return nv == v || nv &amp;&amp; nv.include(v); },
		'~=': function(nv, v) { return (' ' + nv + ' ').include(' ' + v + ' '); },
		'|=': function(nv, v) { return ('-' + (nv || &quot;&quot;).toUpperCase() +
 		'-').include('-' + (v || &quot;&quot;).toUpperCase() + '-'); }
	},</pre>
					</div>
<div class="block function"> <a name="split"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>split</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	split: function(expression) {
		var expressions = [];
		expression.scan(/(([\w#:.~&gt;+()\s-]+|\*|\[.*?\])+)\s*(,|$)/, function(m) {
			expressions.push(m[1].strip());
		});
		return expressions;
	},</pre>
					</div>
<div class="block function"> <a name="matchElements"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>matchElements</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	matchElements: function(elements, expression) {
		var matches = $$(expression), h = Selector.handlers;
		h.mark(matches);
		for (var i = 0, results = [], element; element = elements[i]; i++)
			if (element._countedByPrototype) results.push(element);
		h.unmark(matches);
		return results;
	},</pre>
					</div>
<div class="block function"> <a name="findElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://api.prototypejs.org/dom/selector/findelement/" title="View the documentation for findElement">findElement</a></p>
<p class="desc">Returns the indexth element in the collection that matches expression. Returns the indexth element overall if expression is not given</p>
</div>
<pre class="body prettyprint">
	findElement: function(elements, expression, index) {
		if (Object.isNumber(expression)) {
			index = expression; expression = false;
		}
		return Selector.matchElements(elements, expression || '*')[index || 0];
	},</pre>
					</div>
<div class="block function"> <a name="findChildElements"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://api.prototypejs.org/dom/selector/findchildelements/" title="View the documentation for findChildElements">findChildElements</a></p>
<p class="desc">Searches beneath element for any elements that match the selector (or selectors) specified in expressions</p>
</div>
<pre class="body prettyprint">

	findChildElements: function(element, expressions) {
		expressions = Selector.split(expressions.join(','));
		var results = [], h = Selector.handlers;
		for (var i = 0, l = expressions.length, selector; i &lt; l; i++) {
			selector = new Selector(expressions[i].strip());
			h.concat(results, selector.findElements(element));
		}
		return (l &gt; 1) ? h.unique(results) : results;
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>IE-specific code</strong></p>
					</div>
					<pre class="body prettyprint">
if (Prototype.Browser.IE) {
	Object.extend(Selector.handlers, {
		concat: function(a, b) {
			for (var i = 0, node; node = b[i]; i++)
				if (node.tagName !== &quot;!&quot;) a.push(node);
			return a;
		}
	});
}</pre>
				</div>
				<div class="block function"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-dollar" title="View the documentation for ">$$</a></p>
						<p class="desc">Takes an arbitrary number of CSS selectors (strings) and returns a document-order array of extended DOM elements that match any of them</p>
					</div>
					<pre class="body prettyprint">
function $$() {
	return Selector.findChildElements(document, $A(arguments));
}</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Form</a></p>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/form" title="View the documentation for ">Form</a></p>
						<p class="desc">Form is a namespace and a module for all things form-related, packed with form manipulation and serialization goodness. While it holds methods dealing with forms as whole, its submodule Form.Element deals with specific form controls</p>
					</div>
					<pre class="body prettyprint">
var Form = {</pre>
<div class="block function"> <a name="reset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/reset" title="View the documentation for reset">reset</a></p>
<p class="desc"> Resets a form to its default values </p>
</div>
<pre class="body prettyprint">
	reset: function(form) {
		form = $(form);
		form.reset();
		return form;
	},</pre>
					</div>
<div class="block function"> <a name="serializeElements"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/serializeElements" title="View the documentation for serializeElements">serializeElements</a></p>
<p class="desc"> Serialize an array of form elements to a string suitable for Ajax requests (default behavior) or, if optional getHash evaluates to true, an object hash where keys are form control names and values are data </p>
</div>
<pre class="body prettyprint">
	serializeElements: function(elements, options) {
		if (typeof options != 'object') options = { hash: !!options };
		else if (Object.isUndefined(options.hash)) options.hash = true;
		var key, value, submitted = false, submit = options.submit;

		var data = elements.inject({ }, function(result, element) {
			if (!element.disabled &amp;&amp; element.name) {
				key = element.name; value = $(element).getValue();
				if (value != null &amp;&amp; element.type != 'file' &amp;&amp; (element.type != 'submit' || (!submitted &amp;&amp;
						submit !== false &amp;&amp; (!submit || key == submit) &amp;&amp; (submitted = true)))) {
					if (key in result) {
						if (!Object.isArray(result[key])) result[key] = [result[key]];
						result[key].push(value);
					}
					else result[key] = value;
				}
			}
			return result;
		});

		return options.hash ? data : Object.toQueryString(data);
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/form" title="View the documentation for Form Methods">Form Methods</a></p>
						<p class="desc">Most of these methods are also available directly on FORM elements that have been extended </p>
					</div>
					<pre class="body prettyprint">
Form.Methods = {</pre>
<div class="block function"> <a name="serialize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/serialize" title="View the documentation for serialize">serialize</a></p>
<p class="desc"> Serialize form data to a string suitable for Ajax requests (default behavior) or, if optional getHash evaluates to true, an object hash where keys are form control names and values are data </p>
</div>
<pre class="body prettyprint">
	serialize: function(form, options) {
		return Form.serializeElements(Form.getElements(form), options);
	},</pre>
					</div>
<div class="block function"> <a name="getElements"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/getElements" title="View the documentation for getElements">getElements</a></p>
<p class="desc"> Returns a collection of all form controls within a form </p>
</div>
<pre class="body prettyprint">
	getElements: function(form) {
		var elements = $(form).getElementsByTagName('*'),
				element,
				arr = [ ],
				serializers = Form.Element.Serializers;
		for (var i = 0; element = elements[i]; i++) {
			arr.push(element);
		}
		return arr.inject([], function(elements, child) {
			if (serializers[child.tagName.toLowerCase()])
				elements.push(Element.extend(child));
			return elements;
		})
	},</pre>
					</div>
<div class="block function"> <a name="getInputs"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/getInputs" title="View the documentation for getInputs">getInputs</a></p>
<p class="desc"> Returns a collection of all INPUT elements in a form </p>
</div>
<pre class="body prettyprint">
	getInputs: function(form, typeName, name) {
		form = $(form);
		var inputs = form.getElementsByTagName('input');

		if (!typeName &amp;&amp; !name) return $A(inputs).map(Element.extend);

		for (var i = 0, matchingInputs = [], length = inputs.length; i &lt; length; i++) {
			var input = inputs[i];
			if ((typeName &amp;&amp; input.type != typeName) || (name &amp;&amp; input.name != name))
				continue;
			matchingInputs.push(Element.extend(input));
		}

		return matchingInputs;
	},</pre>
					</div>
<div class="block function"> <a name="disable"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/disable" title="View the documentation for disable">disable</a></p>
<p class="desc"> Disables the form as whole </p>
</div>
<pre class="body prettyprint">
	disable: function(form) {
		form = $(form);
		Form.getElements(form).invoke('disable');
		return form;
	},</pre>
					</div>
<div class="block function"> <a name="enable"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/enable" title="View the documentation for enable">enable</a></p>
<p class="desc"> Enables a fully or partially disabled form </p>
</div>
<pre class="body prettyprint">
	enable: function(form) {
		form = $(form);
		Form.getElements(form).invoke('enable');
		return form;
	},</pre>
					</div>
<div class="block function"> <a name="findFirstElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/findFirstElement" title="View the documentation for findFirstElement">findFirstElement</a></p>
<p class="desc"> Finds first non-hidden, non-disabled form control </p>
</div>
<pre class="body prettyprint">
	findFirstElement: function(form) {
		var elements = $(form).getElements().findAll(function(element) {
			return 'hidden' != element.type &amp;&amp; !element.disabled;
		});
		var firstByIndex = elements.findAll(function(element) {
			return element.hasAttribute('tabIndex') &amp;&amp; element.tabIndex &gt;= 0;
		}).sortBy(function(element) { return element.tabIndex }).first();

		return firstByIndex ? firstByIndex : elements.find(function(element) {
			return /^(?:input|select|textarea)$/i.test(element.tagName);
		});
	},</pre>
					</div>
<div class="block function"> <a name="focusFirstElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/focusFirstElement" title="View the documentation for focusFirstElement">focusFirstElement</a></p>
<p class="desc"> Gives keyboard focus to the first element of the form </p>
</div>
<pre class="body prettyprint">
	focusFirstElement: function(form) {
		form = $(form);
		form.findFirstElement().activate();
		return form;
	},</pre>
					</div>
<div class="block function"> <a name="request"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/request" title="View the documentation for request">request</a></p>
<p class="desc"> A convenience method for serializing and submitting the form via an Ajax </p>
</div>
<pre class="body prettyprint">
	request: function(form, options) {
		form = $(form), options = Object.clone(options || { });

		var params = options.parameters, action = form.readAttribute('action') || '';
		if (action.blank()) action = window.location.href;
		options.parameters = form.serialize(true);

		if (params) {
			if (Object.isString(params)) params = params.toQueryParams();
			Object.extend(options.parameters, params);
		}

		if (form.hasAttribute('method') &amp;&amp; !options.method)
			options.method = form.method;

		return new Ajax.Request(action, options);
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/form/element" title="View the documentation for ">Form Element</a></p>
						<p class="desc">This is a collection of methods that assist in dealing with form controls. They provide ways to focus, serialize, disable/enable or extract current value from a specific control.</p>
					</div>
					<pre class="body prettyprint">
Form.Element = {</pre>
<div class="block function"> <a name="focus"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/focus" title="View the documentation for focus">focus</a></p>
<p class="desc"> Gives keyboard focus to an element </p>
</div>
<pre class="body prettyprint">
	focus: function(element) {
		$(element).focus();
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="select"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/select" title="View the documentation for select">select</a></p>
<p class="desc"> Selects the current text in a text input </p>
</div>
<pre class="body prettyprint">
	select: function(element) {
		$(element).select();
		return element;
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/form/element/" title="View the documentation for Form.Element.Methods">Form.Element.Methods</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
Form.Element.Methods = {</pre>
<div class="block function"> <a name="serialize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/serialize" title="View the documentation for serialize">serialize</a></p>
<p class="desc"> Creates an URL-encoded string representation of a form control in the name=value format </p>
</div>
<pre class="body prettyprint">
	serialize: function(element) {
		element = $(element);
		if (!element.disabled &amp;&amp; element.name) {
			var value = element.getValue();
			if (value != undefined) {
				var pair = { };
				pair[element.name] = value;
				return Object.toQueryString(pair);
			}
		}
		return '';
	},</pre>
					</div>
<div class="block function"> <a name="getValue"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/getValue" title="View the documentation for getValue">getValue</a></p>
<p class="desc"> Returns the current value of a form control </p>
</div>
<pre class="body prettyprint">
	getValue: function(element) {
		element = $(element);
		var method = element.tagName.toLowerCase();
		return Form.Element.Serializers[method](element);
	},</pre>
					</div>
<div class="block function"> <a name="setValue"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/setValue" title="View the documentation for setValue">setValue</a></p>
<p class="desc"> Sets the current value of a form control </p>
</div>
<pre class="body prettyprint">
	setValue: function(element, value) {
		element = $(element);
		var method = element.tagName.toLowerCase();
		Form.Element.Serializers[method](element, value);
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="clear"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/clear" title="View the documentation for clear">clear</a></p>
<p class="desc"> Clears the contents of a text input </p>
</div>
<pre class="body prettyprint">
	clear: function(element) {
		$(element).value = '';
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="present"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/present" title="View the documentation for present">present</a></p>
<p class="desc"> Returns true if a text input has contents, false otherwise </p>
</div>
<pre class="body prettyprint">
	present: function(element) {
		return $(element).value != '';
	},</pre>
					</div>
<div class="block function"> <a name="activate"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/activate" title="View the documentation for activate">activate</a></p>
<p class="desc"> Gives focus to a form control and selects its contents if it is a text input </p>
</div>
<pre class="body prettyprint">
	activate: function(element) {
		element = $(element);
		try {
			element.focus();
			if (element.select &amp;&amp; (element.tagName.toLowerCase() != 'input' ||
					!(/^(?:button|reset|submit)$/i.test(element.type))))
				element.select();
		} catch (e) { }
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="disable"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/disable" title="View the documentation for disable">disable</a></p>
<p class="desc"> Disables a form control, effectively preventing its value to be changed until it is enabled again </p>
</div>
<pre class="body prettyprint">
	disable: function(element) {
		element = $(element);
		element.disabled = true;
		return element;
	},</pre>
					</div>
<div class="block function"> <a name="enable"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/enable" title="View the documentation for enable">enable</a></p>
<p class="desc"> Enables a previously disabled form control </p>
</div>
<pre class="body prettyprint">
	enable: function(element) {
		element = $(element);
		element.disabled = false;
		return element;
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/form/element" title="View the documentation for Field">Field</a></p>
						<p class="desc">An alias for Form.Element</p>
					</div>
					<pre class="body prettyprint">
var Field = Form.Element;</pre>
				</div>
				<div class="block function"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/utility/dollar-f" title="View the documentation for ">$F</a></p>
						<p class="desc">Returns the value of a form control. This is a convenience alias of Form.Element.getValue. Refer to it for full details</p>
					</div>
					<pre class="body prettyprint">
var $F = Form.Element.Methods.getValue;</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><strong>Form.Element.Serializers</strong></p>
						<p class="desc">Form serialization functions</p></div>
					<pre class="body prettyprint">
Form.Element.Serializers = {

	input: function(element, value) {
		switch (element.type.toLowerCase()) {
			case 'checkbox':
			case 'radio':
				return Form.Element.Serializers.inputSelector(element, value);
			default:
				return Form.Element.Serializers.textarea(element, value);
		}
	},
	
	inputSelector: function(element, value) {
		if (Object.isUndefined(value)) return element.checked ? element.value : null;
		else element.checked = !!value;
	},
	
	textarea: function(element, value) {
		if (Object.isUndefined(value)) return element.value;
		else element.value = value;
	},
	
	select: function(element, value) {
		if (Object.isUndefined(value))
			return this[element.type == 'select-one' ?
				'selectOne' : 'selectMany'](element);
		else {
			var opt, currentValue, single = !Object.isArray(value);
			for (var i = 0, length = element.length; i &lt; length; i++) {
				opt = element.options[i];
				currentValue = this.optionValue(opt);
				if (single) {
					if (currentValue == value) {
						opt.selected = true;
						return;
					}
				}
				else opt.selected = value.include(currentValue);
			}
		}
	},
	
	selectOne: function(element) {
		var index = element.selectedIndex;
		return index &gt;= 0 ? this.optionValue(element.options[index]) : null;
	},
	
	selectMany: function(element) {
		var values, length = element.length;
		if (!length) return null;

		for (var i = 0, values = []; i &lt; length; i++) {
			var opt = element.options[i];
			if (opt.selected) values.push(this.optionValue(opt));
		}
		return values;

	},
	
	optionValue: function(opt) {
		return Element.extend(opt).hasAttribute('value') ? opt.value : opt.text;
	}</pre>
				</div>
					<pre class="body prettyprint">
};</pre>
			</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/timedObserver" title="View the documentation for Timed Observer">Timed Observer</a></p>
						<p class="desc">An abstract observer class which instances can be used to periodically check some value and trigger a callback when the value has changed. The frequency is in seconds</p>
					</div>
					<pre class="body prettyprint">
Abstract.TimedObserver = Class.create(PeriodicalExecuter, {</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>

</div>
<pre class="body prettyprint">
	initialize: function($super, element, frequency, callback) {
		$super(callback, frequency);
		this.element   = $(element);
		this.lastValue = this.getValue();
	},</pre>
					</div>
<div class="block function"> <a name="execute"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>execute</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	execute: function() {
		var value = this.getValue();
		if (Object.isString(this.lastValue) &amp;&amp; Object.isString(value) ?
				this.lastValue != value : String(this.lastValue) != String(value)) {
			this.callback(this.element, value);
			this.lastValue = value;
		}
	}</pre>
					</div>
					<pre class="body prettyprint">
});</pre>
				</div><div class="block extend class"> <a name="Form.Element.Observer"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/timedObserver/form-element-observer" title="View the documentation for Form.Element.Observer">Form.Element.Observer</a></p>
<p class="desc">orm.Element observer implements the getValue() method using Form.Element.getValue() on the given element. See Abstract.TimedObserver for general documentation on timed observers</p>
</div>
<pre class="body">

Form.Element.Observer = Class.create(Abstract.TimedObserver, {
</pre>
<div class="block function"> <a name=""></a>
	<div class="head">
		<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/element/getValue" title="View the documentation for ">getValue</a></p>
		<p class="desc">Returns the current value of a form control.</p>
	</div>
	<pre class="body prettyprint">
	getValue: function() {
		return Form.Element.getValue(this.element);
	}	</pre>
</div>
<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Form.Observer"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/timedObserver/form-observer" title="View the documentation for Form.Observer">Form.Observer</a></p>
<p class="desc">Form observer implements the getValue() method using Form.serialize() on the element from the first argument. See Abstract.TimedObserver for general documentation on timed observers</p>
</div>
<pre class="body">

Form.Observer = Class.create(Abstract.TimedObserver, {
</pre>
<div class="block function">
	<a name=""></a>
	<div class="head">
		<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/form/serialize" title="View the documentation for ">getValue</a></p>
		<p class="desc">Serialize the form data to a string</p>
	</div>
	<pre class="body prettyprint">

	getValue: function() {
		return Form.serialize(this.element);
	}
	</pre>
</div>
<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Abstract.EventObserver"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://api.prototypejs.org/dom/abstract/eventobserver/" title="View the documentation for Abstract.EventObserver">Abstract.EventObserver</a></p>
<p class="desc">No info</p>
</div>
<pre class="body">

Abstract.EventObserver = Class.create({</pre>
<div class="block function"> 
<div class="head">
<p class="title"><span class="type">Function : </span><strong>initialize</strong></p>
<p class="desc">Constructor function</p>

</div>
<pre class="body prettyprint">
	initialize: function(element, callback) {
		this.element  = $(element);
		this.callback = callback;

		this.lastValue = this.getValue();
		if (this.element.tagName.toLowerCase() == 'form')
			this.registerFormCallbacks();
		else
			this.registerCallback(this.element);
	},</pre>
					</div>
<div class="block function"> <a name="onElementEvent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>onElementEvent</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	onElementEvent: function() {
		var value = this.getValue();
		if (this.lastValue != value) {
			this.callback(this.element, value);
			this.lastValue = value;
		}
	},</pre>
					</div>
<div class="block function"> <a name="registerFormCallbacks"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>registerFormCallbacks</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	registerFormCallbacks: function() {
		Form.getElements(this.element).each(this.registerCallback, this);
	},</pre>
					</div>
<div class="block function"> <a name="registerCallback"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>registerCallback</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	registerCallback: function(element) {
		if (element.type) {
			switch (element.type.toLowerCase()) {
				case 'checkbox':
				case 'radio':
					Event.observe(element, 'click', this.onElementEvent.bind(this));
					break;
				default:
					Event.observe(element, 'change', this.onElementEvent.bind(this));
					break;
			}
		}
	}</pre>
					</div>
					<pre class="body">
});</pre>
				</div><div class="block extend class"> <a name="Form.Element.EventObserver"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://api.prototypejs.org/dom/form/element/eventobserver/" title="View the documentation for Form.Element.EventObserver">Form.Element.EventObserver</a></p>
<p class="desc">No info</p>
</div>
<pre class="body">

Form.Element.EventObserver = Class.create(Abstract.EventObserver, {
	getValue: function() {
		return Form.Element.getValue(this.element);
	}
});</pre>
				</div><div class="block extend class"> <a name="Form.EventObserver"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://api.prototypejs.org/dom/form/element/eventobserver/" title="View the documentation for Form.EventObserver">Form.EventObserver</a></p>
<p class="desc">No info</p>
</div>
<pre class="body">

Form.EventObserver = Class.create(Abstract.EventObserver, {
	getValue: function() {
		return Form.serialize(this.element);
	}
});</pre>
		</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Event</a></p>
				</div>
				<div class="block code" style="background:none"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>Self-executing anonymous function</strong></p>
					</div>
					<pre class="body prettyprint">
(function() {</pre>
					<div class="block object">
						<div class="head">
							<p class="title"><span class="type">object : </span><a href="http://www.prototypejs.org/api/event">Event</a></p>
							<p class="desc">Event management class</p>
						</div>
						<pre class="body prettyprint">
	var Event = {
		KEY_BACKSPACE: 8,
		KEY_TAB:       9,
		KEY_RETURN:   13,
		KEY_ESC:      27,
		KEY_LEFT:     37,
		KEY_UP:       38,
		KEY_RIGHT:    39,
		KEY_DOWN:     40,
		KEY_DELETE:   46,
		KEY_HOME:     36,
		KEY_END:      35,
		KEY_PAGEUP:   33,
		KEY_PAGEDOWN: 34,
		KEY_INSERT:   45,

		cache: {}
	};</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	var docEl = document.documentElement;
	var MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED = 'onmouseenter' in docEl
		&amp;&amp; 'onmouseleave' in docEl;

	var _isButton;
	if (Prototype.Browser.IE) {
		var buttonMap = { 0: 1, 1: 4, 2: 2 };
		_isButton = function(event, code) {
			return event.button === buttonMap[code];
		};
	} else if (Prototype.Browser.WebKit) {
		_isButton = function(event, code) {
			switch (code) {
				case 0: return event.which == 1 &amp;&amp; !event.metaKey;
				case 1: return event.which == 1 &amp;&amp; event.metaKey;
				default: return false;
			}
		};
	} else {
		_isButton = function(event, code) {
			return event.which ? (event.which === code + 1) : (event.button === code);
		};
	}</pre>
					</div>
<div class="block function"> <a name="isLeftClick"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>isLeftClick</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function isLeftClick(event)   { return _isButton(event, 0) }</pre>
					</div>
<div class="block function"> <a name="isMiddleClick"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>isMiddleClick</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function isMiddleClick(event) { return _isButton(event, 1) }</pre>
					</div>
<div class="block function"> <a name="isRightClick"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>isRightClick</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function isRightClick(event)  { return _isButton(event, 2) }</pre>
					</div>
<div class="block function"> <a name="element"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/element" title="View the documentation for element">element</a></p>
<p class="desc"> Returns the DOM element on which the event occurred </p>
</div>
<pre class="body prettyprint">
	function element(event) {
		event = Event.extend(event);

		var node = event.target, type = event.type,
 		currentTarget = event.currentTarget;

		if (currentTarget &amp;&amp; currentTarget.tagName) {
			if (type === 'load' || type === 'error' ||
				(type === 'click' &amp;&amp; currentTarget.tagName.toLowerCase() === 'input'
					&amp;&amp; currentTarget.type === 'radio'))
						node = currentTarget;
		}

		if (node.nodeType == Node.TEXT_NODE)
			node = node.parentNode;

		return Element.extend(node);
	}</pre>
					</div>
<div class="block function"> <a name="findElement"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/findElement" title="View the documentation for findElement">findElement</a></p>
<p class="desc"> Returns the first DOM element with a given tag name, upwards from the one on which the event occurred </p>
</div>
<pre class="body prettyprint">
	function findElement(event, expression) {
		var element = Event.element(event);
		if (!expression) return element;
		var elements = [element].concat(element.ancestors());
		return Selector.findElement(elements, expression, 0);
	}</pre>
					</div>
<div class="block function"> <a name="pointer"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>pointer</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function pointer(event) {
		return { x: pointerX(event), y: pointerY(event) };
	}</pre>
					</div>
<div class="block function"> <a name="pointerX"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/pointerX" title="View the documentation for pointerX">pointerX</a></p>
<p class="desc"> Returns the absolute horizontal position for a mouse event </p>
</div>
<pre class="body prettyprint">
	function pointerX(event) {
		var docElement = document.documentElement,
 		body = document.body || { scrollLeft: 0 };

		return event.pageX || (event.clientX +
			(docElement.scrollLeft || body.scrollLeft) -
			(docElement.clientLeft || 0));
	}</pre>
					</div>
<div class="block function"> <a name="pointerY"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/pointerY" title="View the documentation for pointerY">pointerY</a></p>
<p class="desc"> Returns the absolute vertical position for a mouse event </p>
</div>
<pre class="body prettyprint">
	function pointerY(event) {
		var docElement = document.documentElement,
 		body = document.body || { scrollTop: 0 };

		return  event.pageY || (event.clientY +
 			(docElement.scrollTop || body.scrollTop) -
 			(docElement.clientTop || 0));
	}</pre>
					</div>
<div class="block function"> <a name="stop"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/stop" title="View the documentation for stop">stop</a></p>
<p class="desc"> Stops the event’s propagation and prevents its default action from being triggered eventually </p>
</div>
<pre class="body prettyprint">
	function stop(event) {
		Event.extend(event);
		event.preventDefault();
		event.stopPropagation();

		event.stopped = true;
	}</pre>
					</div>
					<div class="block object"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/event/" title="View the documentation for Event.Methods">Event.Methods</a></p>
							<p class="desc">Description</p>
						</div>
						<pre class="body prettyprint">
	Event.Methods = {
		isLeftClick: isLeftClick,
		isMiddleClick: isMiddleClick,
		isRightClick: isRightClick,

		element: element,
		findElement: findElement,

		pointer: pointer,
		pointerX: pointerX,
		pointerY: pointerY,

		stop: stop
	};</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>Assign event methods to Event object</strong></p>
						</div>
						<pre class="body prettyprint">
	var methods = Object.keys(Event.Methods).inject({ }, function(m, name) {
		m[name] = Event.Methods[name].methodize();
		return m;
	});

	if (Prototype.Browser.IE) {
		function _relatedTarget(event) {
			var element;
			switch (event.type) {
				case 'mouseover': element = event.fromElement; break;
				case 'mouseout':  element = event.toElement;   break;
				default: return null;
			}
			return Element.extend(element);
		}

		Object.extend(methods, {
			stopPropagation: function() { this.cancelBubble = true },
			preventDefault:  function() { this.returnValue = false },
			inspect: function() { return '[object Event]' }
		});

		Event.extend = function(event, element) {
			if (!event) return false;
			if (event._extendedByPrototype) return event;

			event._extendedByPrototype = Prototype.emptyFunction;
			var pointer = Event.pointer(event);

			Object.extend(event, {
				target: event.srcElement || element,
				relatedTarget: _relatedTarget(event),
				pageX:  pointer.x,
				pageY:  pointer.y
			});

			return Object.extend(event, methods);
		};
	} else {
		Event.prototype = window.Event.prototype || document.createEvent('HTMLEvents').__proto__;
		Object.extend(Event.prototype, methods);
		Event.extend = Prototype.K;
	}</pre>
					</div>
<div class="block function"> <a name="_createResponder"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_createResponder</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
function _createResponder(element, eventName, handler) {
		var registry = Element.retrieve(element, 'prototype_event_registry');

		if (Object.isUndefined(registry)) {
			CACHE.push(element);
			registry = Element.retrieve(element, 'prototype_event_registry', $H());
		}

		var respondersForEvent = registry.get(eventName);
		if (Object.isUndefined(respondersForEvent)) {
			respondersForEvent = [];
			registry.set(eventName, respondersForEvent);
		}

		if (respondersForEvent.pluck('handler').include(handler)) return false;

		var responder;
		if (eventName.include(&quot;:&quot;)) {
			responder = function(event) {
				if (Object.isUndefined(event.eventName))
					return false;

				if (event.eventName !== eventName)
					return false;

				Event.extend(event, element);
				handler.call(element, event);
			};
		} else {
			if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED &amp;&amp;
 			(eventName === &quot;mouseenter&quot; || eventName === &quot;mouseleave&quot;)) {
				if (eventName === &quot;mouseenter&quot; || eventName === &quot;mouseleave&quot;) {
					responder = function(event) {
						Event.extend(event, element);

						var parent = event.relatedTarget;
						while (parent &amp;&amp; parent !== element) {
							try { parent = parent.parentNode; }
							catch(e) { parent = element; }
						}

						if (parent === element) return;

						handler.call(element, event);
					};
				}
			} else {
				responder = function(event) {
					Event.extend(event, element);
					handler.call(element, event);
				};
			}
		}

		responder.handler = handler;
		respondersForEvent.push(responder);
		return responder;
	}</pre>
					</div>
<div class="block function"> <a name="_destroyCache"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>_destroyCache</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
function _destroyCache() {
		for (var i = 0, length = CACHE.length; i &lt; length; i++) {
			Event.stopObserving(CACHE[i]);
			CACHE[i] = null;
		}
	}</pre>
					</div>
					<div class="block variables">
						<div class="head">
							<p class="title"><span class="type">Properties : </span><strong>cache</strong></p>
						</div>
						<pre class="body prettyprint">
	var CACHE = [];</pre>
					</div>
					<div class="block code"> <a name=""></a>
						<div class="head">
							<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
						</div>
						<pre class="body prettyprint">
	if (Prototype.Browser.IE)
		window.attachEvent('onunload', _destroyCache);

	if (Prototype.Browser.WebKit)
		window.addEventListener('unload', Prototype.emptyFunction, false);


	var _getDOMEventName = Prototype.K;

	if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED) {
		_getDOMEventName = function(eventName) {
			var translations = { mouseenter: &quot;mouseover&quot;, mouseleave: &quot;mouseout&quot; };
			return eventName in translations ? translations[eventName] : eventName;
		};
	}</pre>
					</div>
<div class="block function"> <a name="observe"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/observe" title="View the documentation for observe">observe</a></p>
<p class="desc"> Registers an event handler on a DOM element </p>
</div>
<pre class="body prettyprint">
	function observe(element, eventName, handler) {
		element = $(element);

		var responder = _createResponder(element, eventName, handler);

		if (!responder) return element;

		if (eventName.include(':')) {
			if (element.addEventListener)
				element.addEventListener(&quot;dataavailable&quot;, responder, false);
			else {
				element.attachEvent(&quot;ondataavailable&quot;, responder);
				element.attachEvent(&quot;onfilterchange&quot;, responder);
			}
		} else {
			var actualEventName = _getDOMEventName(eventName);

			if (element.addEventListener)
				element.addEventListener(actualEventName, responder, false);
			else
				element.attachEvent(&quot;on&quot; + actualEventName, responder);
		}

		return element;
	}</pre>
					</div>
<div class="block function"> <a name="stopObserving"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/event/stopObserving" title="View the documentation for stopObserving">stopObserving</a></p>
<p class="desc"> Unregisters one or more event handlers </p>
</div>
<pre class="body prettyprint">
	function stopObserving(element, eventName, handler) {
		element = $(element);

		var registry = Element.retrieve(element, 'prototype_event_registry');

		if (Object.isUndefined(registry)) return element;

		if (eventName &amp;&amp; !handler) {
			var responders = registry.get(eventName);

			if (Object.isUndefined(responders)) return element;

			responders.each( function(r) {
				Element.stopObserving(element, eventName, r.handler);
			});
			return element;
		} else if (!eventName) {
			registry.each( function(pair) {
				var eventName = pair.key, responders = pair.value;

				responders.each( function(r) {
					Element.stopObserving(element, eventName, r.handler);
				});
			});
			return element;
		}

		var responders = registry.get(eventName);

		if (!responders) return;

		var responder = responders.find( function(r) { return r.handler === handler; });
		if (!responder) return element;

		var actualEventName = _getDOMEventName(eventName);

		if (eventName.include(':')) {
			if (element.removeEventListener)
				element.removeEventListener(&quot;dataavailable&quot;, responder, false);
			else {
				element.detachEvent(&quot;ondataavailable&quot;, responder);
				element.detachEvent(&quot;onfilterchange&quot;,  responder);
			}
		} else {
			if (element.removeEventListener)
				element.removeEventListener(actualEventName, responder, false);
			else
				element.detachEvent('on' + actualEventName, responder);
		}

		registry.set(eventName, responders.without(responder));

		return element;
	}</pre>
					</div>
<div class="block function"> <a name="fire"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><strong>fire</strong></p>
<p class="desc">Internal function</p>
</div>
<pre class="body prettyprint">
	function fire(element, eventName, memo, bubble) {
		element = $(element);

		if (Object.isUndefined(bubble))
			bubble = true;

		if (element == document &amp;&amp; document.createEvent &amp;&amp; !element.dispatchEvent)
			element = document.documentElement;

		var event;
		if (document.createEvent) {
			event = document.createEvent('HTMLEvents');
			event.initEvent('dataavailable', true, true);
		} else {
			event = document.createEventObject();
			event.eventType = bubble ? 'ondataavailable' : 'onfilterchange';
		}

		event.eventName = eventName;
		event.memo = memo || { };

		if (document.createEvent)
			element.dispatchEvent(event);
		else
			element.fireEvent(event.eventType, event);

		return Event.extend(event);
	}</pre>
					</div>
<div class="block code"> <a name="Event"></a>
<div class="head">
<p class="title"><span class="type">Code : </span><strong>Assign events</strong></p>
</div>
<pre class="body">
	Object.extend(Event, Event.Methods);
	
	Object.extend(Event, {
		fire:          fire,
		observe:       observe,
		stopObserving: stopObserving
	});
	
	Element.addMethods({
		fire:          fire,
		observe:       observe,
		stopObserving: stopObserving
	});
	
	Object.extend(document, {
		fire:          fire.methodize(),
		observe:       observe.methodize(),
		stopObserving: stopObserving.methodize(),
		loaded:        false
	});
	
	if (window.Event) Object.extend(window.Event, Event);
	else window.Event = Event;</pre>
					</div>
					<pre class="body prettyprint">
})();</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
(function() {
	/* Support for the DOMContentLoaded event is based on work by Dan Webb,
 		Matthias Miller, Dean Edwards, John Resig, and Diego Perini. */

	var timer;

	function fireContentLoadedEvent() {
		if (document.loaded) return;
		if (timer) window.clearTimeout(timer);
		document.loaded = true;
		document.fire('dom:loaded');
	}

	function checkReadyState() {
		if (document.readyState === 'complete') {
			document.stopObserving('readystatechange', checkReadyState);
			fireContentLoadedEvent();
		}
	}

	function pollDoScroll() {
		try { document.documentElement.doScroll('left'); }
		catch(e) {
			timer = pollDoScroll.defer();
			return;
		}
		fireContentLoadedEvent();
	}

	if (document.addEventListener) {
		document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
	} else {
		document.observe('readystatechange', checkReadyState);
		if (window == top)
			timer = pollDoScroll.defer();
	}

	Event.observe(window, 'load', fireContentLoadedEvent);
})();</pre>
				</div>
				<div class="block code"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Code : </span><strong>purpose</strong></p>
					</div>
					<pre class="body prettyprint">
Element.addMethods();</pre>
				</div>
			</div>
			<div class="block section"> <a name=""></a>
				<div class="head">
					<p class="title"><span class="type">Section : </span><a href="" title="View the documentation for ">Depreciated in Prototype 1.6</a></p>
				</div>
<div class="block function"> <a name="Hash.toQueryString"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toQueryString" title="View the documentation for Hash.toQueryString">Hash.toQueryString</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
Hash.toQueryString = Object.toQueryString;</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>Toggle</strong></p>
					</div>
					<pre class="body prettyprint">
var Toggle = { display: Element.toggle };</pre>
				</div>
<div class="block function"> <a name="Element.Methods.childOf"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/hash/toQueryString">Element.Methods.childOf</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
Element.Methods.childOf = Element.Methods.descendantOf;</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/insertion" title="View the documentation for Insertion">Insertion</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
var Insertion = {</pre>
<div class="block function"> <a name="Before"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/insertion/Before" title="View the documentation for Before">Before</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	Before: function(element, content) {
		return Element.insert(element, {before:content});
	},</pre>
					</div>
<div class="block function"> <a name="Top"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/insertion/Top" title="View the documentation for Top">Top</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	Top: function(element, content) {
		return Element.insert(element, {top:content});
	},</pre>
					</div>
<div class="block function"> <a name="Bottom"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/insertion/Bottom" title="View the documentation for Bottom">Bottom</a></p>
<p class="desc">Description</p>
</div>

<pre class="body prettyprint">
	Bottom: function(element, content) {
		return Element.insert(element, {bottom:content});
	},</pre>
					</div>
<div class="block function"> <a name="After"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/insertion/After" title="View the documentation for After">After</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	After: function(element, content) {
		return Element.insert(element, {after:content});
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block variables">
					<div class="head">
						<p class="title"><span class="type">Properties : </span><strong>$continue</strong></p>
					</div>
					<pre class="body prettyprint">
var $continue = new Error('&quot;throw $continue&quot; is deprecated, use &quot;return&quot; instead');</pre>
				</div>
				<div class="block object"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Object : </span><a href="http://www.prototypejs.org/api/position" title="View the documentation for Position">Position</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
var Position = {</pre><div class="block variables">
<div class="head">
<p class="title"><span class="type">Properties : </span><strong>includeScrollOffsets</strong></p>
</div>
<pre class="body prettyprint">
	includeScrollOffsets: false,</pre>
					</div>
<div class="block function"> <a name="prepare"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/prepare" title="View the documentation for prepare">prepare</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	prepare: function() {
		this.deltaX =  window.pageXOffset
								|| document.documentElement.scrollLeft
								|| document.body.scrollLeft
								|| 0;
		this.deltaY =  window.pageYOffset
								|| document.documentElement.scrollTop
								|| document.body.scrollTop
								|| 0;
	},</pre>
					</div>
<div class="block function"> <a name="within"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/within" title="View the documentation for within">within</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	within: function(element, x, y) {
		if (this.includeScrollOffsets)
			return this.withinIncludingScrolloffsets(element, x, y);
		this.xcomp = x;
		this.ycomp = y;
		this.offset = Element.cumulativeOffset(element);

		return (y &gt;= this.offset[1] &amp;&amp;
						y &lt;  this.offset[1] + element.offsetHeight &amp;&amp;
						x &gt;= this.offset[0] &amp;&amp;
						x &lt;  this.offset[0] + element.offsetWidth);
	},</pre>
					</div>
<div class="block function"> <a name="withinIncludingScrolloffsets"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/withinIncludingScrolloffsets" title="View the documentation for withinIncludingScrolloffsets">withinIncludingScrolloffsets</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	withinIncludingScrolloffsets: function(element, x, y) {
		var offsetcache = Element.cumulativeScrollOffset(element);

		this.xcomp = x + offsetcache[0] - this.deltaX;
		this.ycomp = y + offsetcache[1] - this.deltaY;
		this.offset = Element.cumulativeOffset(element);

		return (this.ycomp &gt;= this.offset[1] &amp;&amp;
						this.ycomp &lt;  this.offset[1] + element.offsetHeight &amp;&amp;
						this.xcomp &gt;= this.offset[0] &amp;&amp;
						this.xcomp &lt;  this.offset[0] + element.offsetWidth);
	},</pre>
					</div>
<div class="block function"> <a name="overlap"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/overlap" title="View the documentation for overlap">overlap</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	overlap: function(mode, element) {
		if (!mode) return 0;
		if (mode == 'vertical')
			return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
				element.offsetHeight;
		if (mode == 'horizontal')
			return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
				element.offsetWidth;
	},</pre>
					</div>
<div class="block function"> <a name="cumulativeOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/cumulativeOffset" title="View the documentation for cumulativeOffset">cumulativeOffset</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	cumulativeOffset: Element.Methods.cumulativeOffset,</pre>
					</div>
<div class="block function"> <a name="positionedOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/positionedOffset" title="View the documentation for positionedOffset">positionedOffset</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	positionedOffset: Element.Methods.positionedOffset,</pre>
					</div>
<div class="block function"> <a name="absolutize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/absolutize" title="View the documentation for absolutize">absolutize</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	absolutize: function(element) {
		Position.prepare();
		return Element.absolutize(element);
	},</pre>
					</div>
<div class="block function"> <a name="relativize"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/relativize" title="View the documentation for relativize">relativize</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	relativize: function(element) {
		Position.prepare();
		return Element.relativize(element);
	},</pre>
					</div>
<div class="block function"> <a name="realOffset"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/realOffset" title="View the documentation for realOffset">realOffset</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	realOffset: Element.Methods.cumulativeScrollOffset,</pre>
					</div>
<div class="block function"> <a name="offsetParent"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/offsetParent" title="View the documentation for offsetParent">offsetParent</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	offsetParent: Element.Methods.getOffsetParent,</pre>
					</div>
<div class="block function"> <a name="page"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/page" title="View the documentation for page">page</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	page: Element.Methods.viewportOffset,</pre>
					</div>
<div class="block function"> <a name="clone"></a>
<div class="head">
<p class="title"><span class="type">Function : </span><a href="http://www.prototypejs.org/api/position/clone" title="View the documentation for clone">clone</a></p>
<p class="desc">Description</p>
</div>
<pre class="body prettyprint">
	clone: function(source, target, options) {
		options = options || { };
		return Element.clonePosition(target, source, options);
	}</pre>
					</div>
					<pre class="body prettyprint">
};</pre>
				</div>
				<div class="block function"> <a name=""></a>
					<div class="head">
						<p class="title"><span class="type">Function : </span><a href="" title="View the documentation for ">name</a></p>
						<p class="desc">Description</p>
					</div>
					<pre class="body prettyprint">
if (!document.getElementsByClassName) document.getElementsByClassName = function(instanceMethods){
	function iter(name) {
		return name.blank() ? null : &quot;[contains(concat(' ', @class, ' '), ' &quot; + name + &quot; ')]&quot;;
	}

	instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ?
	function(element, className) {
		className = className.toString().strip();
		var cond = /\s/.test(className) ? $w(className).map(iter).join('') : iter(className);
		return cond ? document._getElementsByXPath('.//*' + cond, element) : [];
	} : function(element, className) {
		className = className.toString().strip();
		var elements = [], classNames = (/\s/.test(className) ? $w(className) : null);
		if (!classNames &amp;&amp; !className) return elements;

		var nodes = $(element).getElementsByTagName('*');
		className = ' ' + className + ' ';

		for (var i = 0, child, cn; child = nodes[i]; i++) {
			if (child.className &amp;&amp; (cn = ' ' + child.className + ' ') &amp;&amp; (cn.include(className) ||
					(classNames &amp;&amp; classNames.all(function(name) {
						return !name.toString().blank() &amp;&amp; cn.include(' ' + name + ' ');
					}))))
				elements.push(Element.extend(child));
		}
		return elements;
	};

	return function(className, parentElement) {
		return $(parentElement || document.body).getElementsByClassName(className);
	};
}(Element.Methods);</pre>
				</div><div class="block extend class"> <a name="Element.ClassNames"></a>
<div class="head">
<p class="title"><span class="type">Class : </span><a href="http://www.prototypejs.org/api/Element.ClassNames" title="View the documentation for Element.ClassNames">Element.ClassNames</a></p>
<p class="desc">Description</p>
</div>
<pre class="body">

Element.ClassNames = Class.create();

Element.ClassNames.prototype = {
	initialize: function(element) {
		this.element = $(element);
	},

	_each: function(iterator) {
		this.element.className.split(/\s+/).select(function(name) {
			return name.length &gt; 0;
		})._each(iterator);
	},

	set: function(className) {
		this.element.className = className;
	},

	add: function(classNameToAdd) {
		if (this.include(classNameToAdd)) return;
		this.set($A(this).concat(classNameToAdd).join(' '));
	},

	remove: function(classNameToRemove) {
		if (!this.include(classNameToRemove)) return;
		this.set($A(this).without(classNameToRemove).join(' '));
	},

	toString: function() {
		return $A(this).join(' ');
	}
};</pre>
				</div>
<div class="block extend"> <a name="Element.ClassNames"></a>
<div class="head">
<p class="title"><span class="type">Extend : </span><a href="http://www.prototypejs.org/api/Element.ClassNames" title="View the documentation for Element.ClassNames">Element.ClassNames</a></p>
<p class="desc">Description</p>
</div>
<pre class="body">
Object.extend(Element.ClassNames.prototype, Enumerable);</pre>
				</div>
			</div>
	</div>
</div>
</div>


<script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script>
<script type="text/javascript">
/*
		var pageUrl = '/code/Prototype Deconstructed'
		var pageTracker = _gat._getTracker("UA-603607-3");
		pageTracker._initData();
		pageTracker._trackPageview(pageUrl);
*/
	</script>
</body>
</html>